(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1362:(e,t,a)=>{"use strict";a.d(t,{D:()=>i,N:()=>l});var r=a(2115),n=["light","dark"],s="(prefers-color-scheme: dark)",o=r.createContext(void 0),c={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=r.useContext(o))?e:c},l=e=>r.useContext(o)?e.children:r.createElement(d,{...e}),u=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:c=!0,enableColorScheme:i=!0,storageKey:l="theme",themes:d=u,defaultTheme:g=c?"system":"light",attribute:f="data-theme",value:w,children:v,nonce:b}=e,[E,S]=r.useState(()=>h(l,g)),[k,x]=r.useState(()=>h(l)),C=w?Object.values(w):d,N=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&c&&(t=p());let r=w?w[t]:t,s=a?y():null,o=document.documentElement;if("class"===f?(o.classList.remove(...C),r&&o.classList.add(r)):r?o.setAttribute(f,r):o.removeAttribute(f),i){let e=n.includes(g)?g:null,a=n.includes(t)?t:e;o.style.colorScheme=a}null==s||s()},[]),j=r.useCallback(e=>{let t="function"==typeof e?e(e):e;S(t);try{localStorage.setItem(l,t)}catch(e){}},[t]),A=r.useCallback(e=>{x(p(e)),"system"===E&&c&&!t&&N("system")},[E,t]);r.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),r.useEffect(()=>{let e=e=>{e.key===l&&j(e.newValue||g)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[j]),r.useEffect(()=>{N(null!=t?t:E)},[t,E]);let T=r.useMemo(()=>({theme:E,setTheme:j,forcedTheme:t,resolvedTheme:"system"===E?k:E,themes:c?[...d,"system"]:d,systemTheme:c?k:void 0}),[E,j,t,k,c,d]);return r.createElement(o.Provider,{value:T},r.createElement(m,{forcedTheme:t,disableTransitionOnChange:a,enableSystem:c,enableColorScheme:i,storageKey:l,themes:d,defaultTheme:g,attribute:f,value:w,children:v,attrs:C,nonce:b}),v)},m=r.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:o,enableSystem:c,enableColorScheme:i,defaultTheme:l,value:u,attrs:d,nonce:m}=e,h="system"===l,y="class"===o?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(d.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(o,"',s='setAttribute';"),p=i?(n.includes(l)?l:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(l,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=u?u[e]:e,s=t?e+"|| ''":"'".concat(r,"'"),c="";return i&&a&&!t&&n.includes(e)&&(c+="d.style.colorScheme = '".concat(e,"';")),"class"===o?t||r?c+="c.add(".concat(s,")"):c+="null":r&&(c+="d[s](n,".concat(s,")")),c},f=t?"!function(){".concat(y).concat(g(t),"}()"):c?"!function(){try{".concat(y,"var e=localStorage.getItem('").concat(a,"');if('system'===e||(!e&&").concat(h,")){var t='").concat(s,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(g("dark"),"}else{").concat(g("light"),"}}else if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(g(u?"x[e]":"e",!0),"}").concat(h?"":"else{"+g(l,!1,!1)+"}").concat(p,"}catch(e){}}()"):"!function(){try{".concat(y,"var e=localStorage.getItem('").concat(a,"');if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(g(u?"x[e]":"e",!0),"}else{").concat(g(l,!1,!1),";}").concat(p,"}catch(t){}}();");return r.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:f}})}),h=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},y=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},p=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light")},3283:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,7280)),Promise.resolve().then(a.bind(a,9576))},4744:(e,t,a)=>{"use strict";a.d(t,{Fz:()=>c,VM:()=>o,Vz:()=>s,Ze:()=>i});var r=a(6104),n=a(5317);async function s(e){let t=(0,n.H9)(r.db,"users",e.uid);if((await (0,n.x7)(t)).exists())return void await (0,n.mZ)(t,{photoURL:e.photoURL});let a={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};await (0,n.BN)(t,a,{merge:!0})}async function o(e){let t=(0,n.H9)(r.db,"users",e),a=await (0,n.x7)(t);return a.exists()?a.data():null}async function c(e,t){let a=(0,n.rJ)(r.db,"users"),s=(0,n.P)(a,(0,n._M)("displayName","==",e),(0,n.AB)(1)),o=await (0,n.GG)(s);return!!o.empty||o.docs[0].id===t}async function i(e,t){let a=(0,n.H9)(r.db,"users",e);await (0,n.mZ)(a,t)}},6104:(e,t,a)=>{"use strict";a.d(t,{db:()=>c,j:()=>i,y:()=>o});var r=a(3915),n=a(5317),s=a(3004);let o=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDNFKX0y3B8M-HRqZNGjheMUgHWxX_c-6Y",authDomain:"bridgescore-app.firebaseapp.com",databaseURL:"https://bridgescore-app-default-rtdb.firebaseio.com",projectId:"bridgescore-app",storageBucket:"bridgescore-app.appspot.com",messagingSenderId:"1011165776209",appId:"1:1011165776209:web:a3d46c6f0f5c4bca59eb70",measurementId:"G-D42JPN6307"}),c=(0,n.aU)(o),i=(0,s.xI)(o)},7280:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>s});var r=a(5155);a(2115);var n=a(1362);function s(e){let{children:t,...a}=e;return(0,r.jsx)(n.N,{...a,children:t})}},9576:(e,t,a)=>{"use strict";a.d(t,{A:()=>h,AuthProvider:()=>m});var r=a(5155),n=a(2115),s=a(3004),o=a(6104),c=a(9563),i=a(5317),l=a(4744),u=a(5695);let d=(0,n.createContext)(void 0),m=e=>{let{children:t}=e,[a,m]=(0,n.useState)(null),[h,y]=(0,n.useState)(!0),p=(0,u.useRouter)();(0,n.useEffect)(()=>{try{(0,c.Ay)(o.y,{provider:new c._u("6LfJlHErAAAAAA_G-5_kCMD4jtLUiGrBV_WUbVnu"),isTokenAutoRefreshEnabled:!0})}catch(e){console.error("Failed to initialize App Check",e)}let e=(0,s.hg)(o.j,e=>{m(e),y(!1)});return()=>e()},[]);let g=async()=>{let e=new s.HF;try{let t=await (0,s.df)(o.j,e);await (0,l.Vz)(t.user)}catch(e){throw console.error("Error signing in with Google: ",e),e}},f=async(e,t)=>{try{let a=await (0,s.eJ)(o.j,e,t);return await (0,l.Vz)(a.user),a}catch(e){throw console.error("Error signing up with email: ",e),e}},w=async(e,t)=>{try{return await (0,s.x9)(o.j,e,t)}catch(e){throw console.error("Error logging in with email: ",e),e}},v=async()=>{await (0,s.CI)(o.j),p.push("/")},b=async()=>{try{let e=(await (0,s.zK)(o.j)).user,t=(0,i.H9)(o.db,"users",e.uid);if(!(await (0,i.x7)(t)).exists()){let a="Guest ".concat(Math.floor(1e3*Math.random()));await (0,s.r7)(e,{displayName:a}),await (0,i.BN)(t,{uid:e.uid,email:e.email,displayName:a,photoURL:e.photoURL})}return e}catch(e){throw console.error("Error signing in as guest:",e),e}},E=async e=>{if(!o.j.currentUser)return{success:!1,message:"You must be logged in to update your profile."};try{if(!await (0,l.Fz)(e,o.j.currentUser.uid))return{success:!1,message:"Username is already taken. Please choose another."};return await (0,s.r7)(o.j.currentUser,{displayName:e}),await (0,l.Ze)(o.j.currentUser.uid,{displayName:e}),m(o.j.currentUser),{success:!0,message:"Username updated successfully!"}}catch(e){return console.error("Error updating username: ",e),{success:!1,message:e instanceof Error?e.message:"An unknown error occurred."}}};return(0,r.jsx)(d.Provider,{value:{user:a,loading:h,signInWithGoogle:g,logout:v,signUpWithEmail:f,loginWithEmail:w,updateUsername:E,signInAsGuest:b},children:t})},h=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,611,644,271,441,684,358],()=>t(3283)),_N_E=e.O()}]);