(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14283:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},18882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ib});var n,a,o,i,s,l=r(60687),c=r(43210),d=r(33784),u=r(75535);async function f(e){if(!e.id)return void console.error("Game must have an ID to be saved.");let{isGameActive:t,...r}=e;try{let e=await (0,u.gS)((0,u.rJ)(d.db,"games"),{...r,finishedAt:(0,u.O5)()});return console.log("Game result saved with ID: ",e.id),e.id}catch(e){console.error("Error adding document. Have you configured your .env.local file with your Firebase credentials?",e)}}let p="bridgeScore_gameState",h=()=>({id:"",players:[],round:1,dealerIndex:0,phase:"calling",isGameActive:!1,totalRounds:10,winningScore:50}),m=(e,t)=>{let r=t.find(t=>t.totalScore>=e.winningScore),n=e.round+1,a=!!r||n>e.totalRounds;return{...e,players:t,round:n,dealerIndex:(e.dealerIndex+1)%e.players.length,phase:a?"finished":1===n?"making":"calling"}},g=(e,t)=>{switch(t.type){case"START_GAME":{let{players:e,winningScore:r,tag:n,hostId:a,hostName:o,hostPhotoURL:i}=t.payload,s=e.map((e,t)=>({id:`player-${t+1}`,name:e,calls:Array(10).fill(null),made:Array(10).fill(null),scores:Array(10).fill(0),totalScore:0}));return{id:new Date().getTime().toString(),tag:n,players:s,round:1,dealerIndex:0,phase:"making",isGameActive:!0,totalRounds:10,winningScore:r,hostId:a,hostName:o??void 0,hostPhotoURL:i??void 0}}case"SET_CALLS":{let r=e.round-1,n=e.players.map((e,n)=>({...e,calls:e.calls.map((e,a)=>a===r?t.payload[n]:e)}));return{...e,players:n,phase:"making"}}case"SET_MADE":{if(1!==e.round)return e;let r=e.players.map((e,r)=>{let n=t.payload[r],a=[...e.scores];a[0]=8===n?13:n;let o=[...e.made];return o[0]=n,{...e,made:o,scores:a,totalScore:a.reduce((e,t)=>e+t,0)}});return m(e,r)}case"SET_OUTCOMES":{if(e.round<=1)return e;let r=e.round-1,n=e.players.map((e,n)=>{let a=e.calls[r],o=t.payload[n],i=0,s=null;null!==a&&("won"===o?(i=8===a?13:a,s=a):(i=-a,s=null));let l=[...e.scores];l[r]=i;let c=[...e.made];return c[r]=s,{...e,made:c,scores:l,totalScore:l.reduce((e,t)=>e+t,0)}});return m(e,n)}case"RESET_GAME":return h();case"LOAD_STATE":return t.payload;default:return e}},v=()=>{let[e,t]=(0,c.useReducer)(g,h()),r=(0,c.useRef)();(0,c.useEffect)(()=>{try{let e=localStorage.getItem(p);if(e){let n=JSON.parse(e);t({type:"LOAD_STATE",payload:n}),r.current=n}}catch(e){console.error("Failed to load game state from localStorage",e)}},[]),(0,c.useEffect)(()=>{e.isGameActive?(localStorage.setItem(p,JSON.stringify(e)),r.current?.phase!=="finished"&&"finished"===e.phase&&e.hostId&&f(e)):localStorage.removeItem(p),r.current=e},[e]);let n=(0,c.useCallback)((e,r,n,a,o,i)=>{t({type:"START_GAME",payload:{players:e,winningScore:r,tag:n,hostId:a,hostName:o,hostPhotoURL:i}})},[]),a=(0,c.useCallback)(e=>{t({type:"SET_CALLS",payload:e})},[]),o=(0,c.useCallback)(e=>{t({type:"SET_MADE",payload:e})},[]);return{gameState:e,startGame:n,setCalls:a,setMade:o,setOutcomes:(0,c.useCallback)(e=>{t({type:"SET_OUTCOMES",payload:e})},[]),resetGame:(0,c.useCallback)(()=>{t({type:"RESET_GAME"})},[])}};var x=r(18780),y=r(29523),w=r(89667),b=r(80013),j=r(82614);let N=(0,j.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),E=(0,j.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var C=r(29867);function R({startGame:e}){let[t,r]=(0,c.useState)(["","","",""]),[n,a]=(0,c.useState)(""),[o,i]=(0,c.useState)("50"),{toast:s}=(0,C.dj)(),d=(e,n)=>{let a=[...t];a[e]=n,r(a)};return(0,l.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),t.some(e=>""===e.trim()))return void s({title:"Validation Error",description:"All four player names are required.",variant:"destructive"});if(4!==new Set(t.map(e=>e.trim())).size)return void s({title:"Validation Error",description:"Player names must be unique.",variant:"destructive"});let a=parseInt(o,10);if(isNaN(a)||a<=0)return void s({title:"Validation Error",description:"Winning score must be a positive number.",variant:"destructive"});e(t.map(e=>e.trim()),a,n.trim())},className:"space-y-6 pt-4",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(b.J,{className:"font-semibold flex items-center gap-2",children:[(0,l.jsx)(N,{className:"w-4 h-4"}),"Player Names"]}),t.map((e,t)=>(0,l.jsx)(w.p,{type:"text",placeholder:`Player ${t+1}`,value:e,onChange:e=>d(t,e.target.value),required:!0,className:"bg-white"},t))]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(b.J,{htmlFor:"tag",className:"font-semibold",children:"Game Tag (Optional)"}),(0,l.jsx)(w.p,{id:"tag",type:"text",placeholder:"e.g. Friday Night Bridge",value:n,onChange:e=>a(e.target.value),className:"bg-white"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(b.J,{htmlFor:"winningScore",className:"font-semibold flex items-center gap-2",children:[(0,l.jsx)(E,{className:"w-4 h-4"}),"Winning Score"]}),(0,l.jsx)(w.p,{id:"winningScore",type:"number",placeholder:"e.g. 50",value:o,onChange:e=>i(e.target.value),className:"bg-white"})]}),(0,l.jsx)(y.$,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:"Start Game"})]})}var S=r(44493);let k=(0,j.A)("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);var T=r(78726);let P=(0,j.A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var M=r(4780);let A=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:r,className:(0,M.cn)("w-full caption-bottom text-sm",e),...t})}));A.displayName="Table";let D=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("thead",{ref:r,className:(0,M.cn)("[&_tr]:border-b",e),...t}));D.displayName="TableHeader";let L=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("tbody",{ref:r,className:(0,M.cn)("[&_tr:last-child]:border-0",e),...t}));L.displayName="TableBody",c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("tfoot",{ref:r,className:(0,M.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let O=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("tr",{ref:r,className:(0,M.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));O.displayName="TableRow";let I=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("th",{ref:r,className:(0,M.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));I.displayName="TableHead";let _=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("td",{ref:r,className:(0,M.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));function F({players:e,totalRounds:t,currentRound:r,dealerIndex:n}){let a=Array.from({length:t},(e,t)=>t+1),o=Math.max(...e.map(e=>e.totalScore));return(0,l.jsx)(S.Zp,{className:"shadow-lg",children:(0,l.jsx)(S.Wu,{className:"p-0",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(A,{children:[(0,l.jsx)(D,{children:(0,l.jsxs)(O,{children:[(0,l.jsx)(I,{className:"sticky left-0 bg-card z-10 min-w-[120px]",children:"Player"}),a.map(e=>(0,l.jsxs)(I,{className:(0,M.cn)("text-center",e===r&&"bg-secondary"),children:["Round ",e]},e)),(0,l.jsx)(I,{className:"text-center font-bold",children:"Total"})]})}),(0,l.jsx)(L,{children:e.map((e,i)=>(0,l.jsxs)(O,{children:[(0,l.jsx)(_,{className:"sticky left-0 bg-card z-10 font-medium",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[e.name,i===n&&r<=t&&(0,l.jsx)("span",{title:"Dealer",className:"text-xs font-bold text-accent",children:"(D)"})]})}),a.map(t=>(0,l.jsx)(_,{className:(0,M.cn)("text-center",t===r&&"bg-secondary"),children:(()=>{let r=t-1,n=e.calls[r],a=e.made[r],o=e.scores[r];return 1===t?null!==a?(0,l.jsx)("div",{children:(0,l.jsxs)("span",{className:"font-semibold",children:[o," pts"]})}):"-":null!==n?(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:n}),(0,l.jsx)("span",{children:" / "}),(0,l.jsx)("span",{className:(0,M.cn)(a===n?"text-green-600":"text-destructive"),children:null!==a?a:"Lost"}),(0,l.jsxs)("div",{className:"text-xs font-semibold",children:[o," pts"]})]}):"-"})()},t)),(0,l.jsx)(_,{className:(0,M.cn)("text-center font-bold text-lg",e.totalScore>0&&e.totalScore===o&&"text-accent"),children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[e.totalScore,e.totalScore>0&&e.totalScore===o&&(0,l.jsx)(P,{className:"w-4 h-4"})]})})]},e.id))})]})})})})}_.displayName="TableCell",c.forwardRef(({className:e,...t},r)=>(0,l.jsx)("caption",{ref:r,className:(0,M.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";let B=(0,j.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),W=(0,j.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var G=r(58450);let H=(0,j.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),z=(0,j.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),V=({value:e,onChange:t,min:r,max:n})=>{let a=e=>{e>=r&&e<=n?t(e.toString()):e<r?t(r.toString()):e>n&&t(n.toString())};return(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(y.$,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 shrink-0",onClick:()=>{a((""===e?r+1:parseInt(e,10))-1)},disabled:""!==e&&parseInt(e)<=r,children:(0,l.jsx)(B,{className:"h-5 w-5"})}),(0,l.jsx)(w.p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"h-12 w-20 text-center text-2xl font-bold",value:e,onChange:e=>{let r=e.target.value;if(""===r)return void t("");let n=parseInt(r.replace(/[^0-9]/g,""),10);!isNaN(n)&&n>=0&&a(n)},onBlur:e=>{let n=parseInt(e.target.value,10);""!==e.target.value&&(isNaN(n)||n<r)&&t(r.toString())},placeholder:"-"}),(0,l.jsx)(y.$,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 shrink-0",onClick:()=>{a((""===e?r-1:parseInt(e,10))+1)},disabled:""!==e&&parseInt(e)>=n,children:(0,l.jsx)(W,{className:"h-5 w-5"})})]})};function q({round:e,phase:t,players:r,setCalls:n,setMade:a,setOutcomes:o}){let{toast:i}=(0,C.dj)(),[s,d]=(0,c.useState)(Array(r.length).fill("")),[u,f]=(0,c.useState)(Array(r.length).fill(null)),p=(e,t)=>{let r=[...s];r[e]=t,d(r)},h=(e,t)=>{let r=[...u];r[e]=t,f(r)},m=(0,c.useMemo)(()=>!u.includes(null),[u]),{total:g,isValid:v,validationMessage:x}=(0,c.useMemo)(()=>{let e=s.map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),r=e.reduce((e,t)=>e+t,0),n=s.every(e=>""!==e.trim());return"calling"===t?e.some(e=>e<2)?{total:r,isValid:!1,validationMessage:"Minimum call for any player is 2."}:{total:r,isValid:n&&r>=13,validationMessage:"Total calls must be 13 or more."}:{total:r,isValid:n&&13===r,validationMessage:"Total tricks made must be exactly 13."}},[s,r.length,t]);if("making"===t&&e>1)return(0,l.jsxs)(S.Zp,{className:"shadow-lg",children:[(0,l.jsxs)(S.aR,{children:[(0,l.jsxs)(S.ZB,{children:["Round ",e," - Record Outcomes"]}),(0,l.jsx)(S.BT,{children:"Select whether each player won (made their call) or lost."})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!m)return void i({title:"Incomplete",description:"Please select an outcome for every player.",variant:"destructive"});o(u)},children:[(0,l.jsx)(S.Wu,{className:"space-y-2",children:r.map((t,r)=>(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 rounded-lg bg-secondary/50",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:t.name}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Called: ",t.calls[e-1]]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(y.$,{type:"button",variant:"won"===u[r]?"default":"outline",size:"icon",onClick:()=>h(r,"won"),className:(0,M.cn)("won"===u[r]&&"bg-green-600 hover:bg-green-700 text-white"),children:(0,l.jsx)(G.A,{className:"h-5 w-5"})}),(0,l.jsx)(y.$,{type:"button",variant:"lost"===u[r]?"destructive":"outline",size:"icon",onClick:()=>h(r,"lost"),children:(0,l.jsx)(T.A,{className:"h-5 w-5"})})]})]},t.id))}),(0,l.jsx)(S.wL,{children:(0,l.jsx)(y.$,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:!m,children:"Finish Round"})})]})]});let w="calling"===t;return(0,l.jsxs)(S.Zp,{className:"shadow-lg",children:[(0,l.jsxs)(S.aR,{children:[(0,l.jsxs)(S.ZB,{children:["Round ",e," - ",w?"Make Your Calls":"Record Tricks Made (Round 1)"]}),(0,l.jsx)(S.BT,{children:w?"Each player calls how many tricks they will win. Minimum call is 2. The total must be 13 or more.":"Enter how many tricks each player won. The total must be exactly 13."})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v)return void i({title:"Invalid Input",description:x,variant:"destructive"});let r=s.map(e=>parseInt(e,10));"calling"===t?n(r):a(r)},children:[(0,l.jsxs)(S.Wu,{className:"space-y-3",children:[r.map((e,t)=>(0,l.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-card border",children:[(0,l.jsx)(b.J,{htmlFor:`input-${e.id}`,className:"font-semibold text-base",children:e.name}),(0,l.jsx)(V,{value:s[t],onChange:e=>p(t,e),min:2*!!w,max:13})]},e.id)),(0,l.jsxs)("div",{className:"pt-4 text-center",children:[(0,l.jsxs)("p",{className:"font-bold text-lg",children:["Total: ",g]}),(0,l.jsx)("div",{className:(0,M.cn)("flex items-center justify-center gap-2 transition-opacity",s.some(e=>""!==e)?"opacity-100":"opacity-0"),children:v?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H,{className:"h-5 w-5 text-green-600"}),(0,l.jsx)("span",{className:"text-green-600 font-medium",children:"Valid!"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z,{className:"h-5 w-5 text-destructive"}),(0,l.jsx)("span",{className:"text-destructive font-medium",children:x})]})})]})]}),(0,l.jsx)(S.wL,{children:(0,l.jsx)(y.$,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:!v,children:w?"Submit Calls":"Finish Round"})})]})]})}var $=r(29633);function K(e,t){return e+Math.random()*(t-e)}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(a||(a={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(o||(o={}));let U=1e3/60;class Y{constructor(e,t,r,n){var a;this.getOptions=t;let{colors:i,initialVelocityX:s,initialVelocityY:l}=this.getOptions();this.context=e,this.x=r,this.y=n,this.w=K(5,20),this.h=K(5,20),this.radius=K(5,10),this.vx="number"==typeof s?K(-s,s):K(s.min,s.max),this.vy="number"==typeof l?K(-l,0):K(l.min,l.max),this.shape=(a=0,Math.floor(0+3*Math.random())),this.angle=K(0,360)*Math.PI/180,this.angularSpin=K(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=K(0,1),this.rotationDirection=K(0,1)?o.Positive:o.Negative}update(e){let{gravity:t,wind:r,friction:n,opacity:i,drawShape:s}=this.getOptions(),l=e/U;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=t*l,this.vx+=r*l,this.vx*=n**l,this.vy*=n**l,this.rotateY>=1&&this.rotationDirection===o.Positive?this.rotationDirection=o.Negative:this.rotateY<=-1&&this.rotationDirection===o.Negative&&(this.rotationDirection=o.Positive);let c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case a.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case a.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case a.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class X{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{let e=K(this.x,this.w+this.x),t=K(this.y,this.h+this.y);return new Y(this.context,this.getOptions,e,t)},this.animate=e=>{let{canvas:t,context:r,particlesGenerated:n,lastNumberOfPieces:a}=this,{run:o,recycle:i,numberOfPieces:s,debug:l,tweenFunction:c,tweenDuration:d}=this.getOptions();if(!o)return!1;let u=this.particles.length,f=i?u:n;if(f<s){a!==s&&(this.tweenProgress=0,this.tweenFrom=f,this.lastNumberOfPieces=s),this.tweenProgress=Math.min(d,Math.max(0,this.tweenProgress+e));let t=Math.round(c(this.tweenProgress,this.tweenFrom,s,d)-f);for(let e=0;e<t;e++)this.particles.push(this.getParticle());this.particlesGenerated+=t}l&&(r.font="12px sans-serif",r.fillStyle="#333",r.textAlign="right",r.fillText(`Particles: ${u}`,t.width-10,t.height-20));for(let r=this.particles.length-1;r>=0;r--){let n=this.particles[r];n.update(e),(n.y>t.height||n.y<-100||n.x>t.width+100||n.x<-100)&&(i&&f<=s?this.particles[r]=this.getParticle():this.removeParticleAt(r))}return u>0||f<s},this.canvas=e;let r=this.canvas.getContext("2d");if(!r)throw Error("Could not get canvas context");this.context=r,this.getOptions=t}}let Z={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:$.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class J{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{let t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...t,...Z,...e},Object.assign(this,e.confettiSource)},this.update=(e=0)=>{let{options:{run:t,onConfettiComplete:r,frameRate:n},canvas:a,context:o}=this,i=Math.min(e-this.lastFrameTime,50);if(n&&i<1e3/n){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=e-(n?i%n:0),t&&(o.fillStyle="white",o.clearRect(0,0,a.width,a.height)),this.generator.animate(i)?this.rafId=requestAnimationFrame(this.update):(r&&"function"==typeof r&&this.generator.particlesGenerated>0&&r.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;let r=this.canvas.getContext("2d");if(!r)throw Error("Could not get canvas context");this.context=r,this.generator=new X(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){let t=this._options?.run,r=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===r&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}let Q=c.createRef();class ee extends c.Component{constructor(e){super(e),this.canvas=c.createRef(),this.canvas=e.canvasRef||Q}componentDidMount(){if(this.canvas.current){let e=et(this.props)[0];this.confetti=new J(this.canvas.current,e)}}componentDidUpdate(){let e=et(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){let[e,t]=et(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return(0,l.jsx)("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:r})}}function et(e){let t={},r={},n=[...Object.keys(Z),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(let o in e){let i=e[o];n.includes(o)?t[o]=i:a.includes(o)?a[o]=i:r[o]=i}return[t,r,{}]}ee.defaultProps={...Z},ee.displayName="ReactConfetti";let er=c.forwardRef((e,t)=>(0,l.jsx)(ee,{canvasRef:t,...e})),en=(0,j.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ea=(0,j.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var eo=r(10218),ei=r(70569),es=r(98599),el=r(11273),ec=r(65551),ed=r(3416),eu=r(72031),ef=r(43),ep=r(13495),eh="dismissableLayer.update",em=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eg=c.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:d,...u}=e,f=c.useContext(em),[p,h]=c.useState(null),m=p?.ownerDocument??globalThis?.document,[,g]=c.useState({}),v=(0,es.s)(t,e=>h(e)),x=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),b=p?x.indexOf(p):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,E=function(e,t=globalThis?.document){let r=(0,ep.c)(e),n=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){ey("dismissableLayer.pointerDownOutside",r,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...f.branches].some(e=>e.contains(t));N&&!r&&(a?.(e),s?.(e),e.defaultPrevented||d?.())},m),C=function(e,t=globalThis?.document){let r=(0,ep.c)(e),n=c.useRef(!1);return c.useEffect(()=>{let e=e=>{e.target&&!n.current&&ey("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...f.branches].some(e=>e.contains(t))&&(o?.(e),s?.(e),e.defaultPrevented||d?.())},m);return!function(e,t=globalThis?.document){let r=(0,ep.c)(e);c.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{b===f.layers.size-1&&(n?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},m),c.useEffect(()=>{if(p)return r&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(i=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),ex(),()=>{r&&1===f.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=i)}},[p,m,r,f]),c.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),ex())},[p,f]),c.useEffect(()=>{let e=()=>g({});return document.addEventListener(eh,e),()=>document.removeEventListener(eh,e)},[]),(0,l.jsx)(ed.sG.div,{...u,ref:v,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:(0,ei.m)(e.onFocusCapture,C.onFocusCapture),onBlurCapture:(0,ei.m)(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:(0,ei.m)(e.onPointerDownCapture,E.onPointerDownCapture)})});eg.displayName="DismissableLayer";var ev=c.forwardRef((e,t)=>{let r=c.useContext(em),n=c.useRef(null),a=(0,es.s)(t,n);return c.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,l.jsx)(ed.sG.div,{...e,ref:a})});function ex(){let e=new CustomEvent(eh);document.dispatchEvent(e)}function ey(e,t,r,{discrete:n}){let a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?(0,ed.hO)(a,o):a.dispatchEvent(o)}ev.displayName="DismissableLayerBranch";var ew=0;function eb(){c.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ej()),document.body.insertAdjacentElement("beforeend",e[1]??ej()),ew++,()=>{1===ew&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ew--}},[])}function ej(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eN="focusScope.autoFocusOnMount",eE="focusScope.autoFocusOnUnmount",eC={bubbles:!1,cancelable:!0},eR=c.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[s,d]=c.useState(null),u=(0,ep.c)(a),f=(0,ep.c)(o),p=c.useRef(null),h=(0,es.s)(t,e=>d(e)),m=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let e=function(e){if(m.paused||!s)return;let t=e.target;s.contains(t)?p.current=t:eT(p.current,{select:!0})},t=function(e){if(m.paused||!s)return;let t=e.relatedTarget;null!==t&&(s.contains(t)||eT(p.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&eT(s)});return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,s,m.paused]),c.useEffect(()=>{if(s){eP.add(m);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(eN,eC);s.addEventListener(eN,u),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(eT(n,{select:t}),document.activeElement!==r)return}(eS(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&eT(s))}return()=>{s.removeEventListener(eN,u),setTimeout(()=>{let t=new CustomEvent(eE,eC);s.addEventListener(eE,f),s.dispatchEvent(t),t.defaultPrevented||eT(e??document.body,{select:!0}),s.removeEventListener(eE,f),eP.remove(m)},0)}}},[s,u,f,m]);let g=c.useCallback(e=>{if(!r&&!n||m.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){let t=e.currentTarget,[n,o]=function(e){let t=eS(e);return[ek(t,e),ek(t.reverse(),e)]}(t);n&&o?e.shiftKey||a!==o?e.shiftKey&&a===n&&(e.preventDefault(),r&&eT(o,{select:!0})):(e.preventDefault(),r&&eT(n,{select:!0})):a===t&&e.preventDefault()}},[r,n,m.paused]);return(0,l.jsx)(ed.sG.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});function eS(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ek(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function eT(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}eR.displayName="FocusScope";var eP=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=eM(e,t)).unshift(t)},remove(t){e=eM(e,t),e[0]?.resume()}}}();function eM(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var eA=r(96963);let eD=["top","right","bottom","left"],eL=Math.min,eO=Math.max,eI=Math.round,e_=Math.floor,eF=e=>({x:e,y:e}),eB={left:"right",right:"left",bottom:"top",top:"bottom"},eW={start:"end",end:"start"};function eG(e,t){return"function"==typeof e?e(t):e}function eH(e){return e.split("-")[0]}function ez(e){return e.split("-")[1]}function eV(e){return"x"===e?"y":"x"}function eq(e){return"y"===e?"height":"width"}function e$(e){return["top","bottom"].includes(eH(e))?"y":"x"}function eK(e){return e.replace(/start|end/g,e=>eW[e])}function eU(e){return e.replace(/left|right|bottom|top/g,e=>eB[e])}function eY(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function eX(e){let{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function eZ(e,t,r){let n,{reference:a,floating:o}=e,i=e$(t),s=eV(e$(t)),l=eq(s),c=eH(t),d="y"===i,u=a.x+a.width/2-o.width/2,f=a.y+a.height/2-o.height/2,p=a[l]/2-o[l]/2;switch(c){case"top":n={x:u,y:a.y-o.height};break;case"bottom":n={x:u,y:a.y+a.height};break;case"right":n={x:a.x+a.width,y:f};break;case"left":n={x:a.x-o.width,y:f};break;default:n={x:a.x,y:a.y}}switch(ez(t)){case"start":n[s]-=p*(r&&d?-1:1);break;case"end":n[s]+=p*(r&&d?-1:1)}return n}let eJ=async(e,t,r)=>{let{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,s=o.filter(Boolean),l=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=eZ(c,n,l),f=n,p={},h=0;for(let r=0;r<s.length;r++){let{name:o,fn:m}=s[r],{x:g,y:v,data:x,reset:y}=await m({x:d,y:u,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,p={...p,[o]:{...p[o],...x}},y&&h<=50&&(h++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),{x:d,y:u}=eZ(c,f,l)),r=-1)}return{x:d,y:u,placement:f,strategy:a,middlewareData:p}};async function eQ(e,t){var r;void 0===t&&(t={});let{x:n,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=eG(t,e),h=eY(p),m=s[f?"floating"===u?"reference":"floating":u],g=eX(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,x=await (null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),y=await (null==o.isElement?void 0:o.isElement(x))&&await (null==o.getScale?void 0:o.getScale(x))||{x:1,y:1},w=eX(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-w.top+h.top)/y.y,bottom:(w.bottom-g.bottom+h.bottom)/y.y,left:(g.left-w.left+h.left)/y.x,right:(w.right-g.right+h.right)/y.x}}function e0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function e1(e){return eD.some(t=>e[t]>=0)}async function e2(e,t){let{placement:r,platform:n,elements:a}=e,o=await (null==n.isRTL?void 0:n.isRTL(a.floating)),i=eH(r),s=ez(r),l="y"===e$(r),c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,u=eG(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}function e5(){return"undefined"!=typeof window}function e4(e){return e8(e)?(e.nodeName||"").toLowerCase():"#document"}function e3(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function e6(e){var t;return null==(t=(e8(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function e8(e){return!!e5()&&(e instanceof Node||e instanceof e3(e).Node)}function e7(e){return!!e5()&&(e instanceof Element||e instanceof e3(e).Element)}function e9(e){return!!e5()&&(e instanceof HTMLElement||e instanceof e3(e).HTMLElement)}function te(e){return!!e5()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof e3(e).ShadowRoot)}function tt(e){let{overflow:t,overflowX:r,overflowY:n,display:a}=ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function tr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function tn(e){let t=ta(),r=e7(e)?ti(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function ta(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function to(e){return["html","body","#document"].includes(e4(e))}function ti(e){return e3(e).getComputedStyle(e)}function ts(e){return e7(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tl(e){if("html"===e4(e))return e;let t=e.assignedSlot||e.parentNode||te(e)&&e.host||e6(e);return te(t)?t.host:t}function tc(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let a=function e(t){let r=tl(t);return to(r)?t.ownerDocument?t.ownerDocument.body:t.body:e9(r)&&tt(r)?r:e(r)}(e),o=a===(null==(n=e.ownerDocument)?void 0:n.body),i=e3(a);if(o){let e=td(i);return t.concat(i,i.visualViewport||[],tt(a)?a:[],e&&r?tc(e):[])}return t.concat(a,tc(a,[],r))}function td(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tu(e){let t=ti(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,a=e9(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,s=eI(r)!==o||eI(n)!==i;return s&&(r=o,n=i),{width:r,height:n,$:s}}function tf(e){return e7(e)?e:e.contextElement}function tp(e){let t=tf(e);if(!e9(t))return eF(1);let r=t.getBoundingClientRect(),{width:n,height:a,$:o}=tu(t),i=(o?eI(r.width):r.width)/n,s=(o?eI(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}let th=eF(0);function tm(e){let t=e3(e);return ta()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:th}function tg(e,t,r,n){var a;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),i=tf(e),s=eF(1);t&&(n?e7(n)&&(s=tp(n)):s=tp(e));let l=(void 0===(a=r)&&(a=!1),n&&(!a||n===e3(i))&&a)?tm(i):eF(0),c=(o.left+l.x)/s.x,d=(o.top+l.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){let e=e3(i),t=n&&e7(n)?e3(n):n,r=e,a=td(r);for(;a&&n&&t!==r;){let e=tp(a),t=a.getBoundingClientRect(),n=ti(a),o=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,f*=e.y,c+=o,d+=i,a=td(r=e3(a))}}return eX({width:u,height:f,x:c,y:d})}function tv(e,t){let r=ts(e).scrollLeft;return t?t.left+r:tg(e6(e)).left+r}function tx(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:tv(e,n)),y:n.top+t.scrollTop}}function ty(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=e3(e),n=e6(e),a=r.visualViewport,o=n.clientWidth,i=n.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;let e=ta();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}(e,r);else if("document"===t)n=function(e){let t=e6(e),r=ts(e),n=e.ownerDocument.body,a=eO(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=eO(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),i=-r.scrollLeft+tv(e),s=-r.scrollTop;return"rtl"===ti(n).direction&&(i+=eO(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:s}}(e6(e));else if(e7(t))n=function(e,t){let r=tg(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=e9(e)?tp(e):eF(1),i=e.clientWidth*o.x,s=e.clientHeight*o.y;return{width:i,height:s,x:a*o.x,y:n*o.y}}(t,r);else{let r=tm(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return eX(n)}function tw(e){return"static"===ti(e).position}function tb(e,t){if(!e9(e)||"fixed"===ti(e).position)return null;if(t)return t(e);let r=e.offsetParent;return e6(e)===r&&(r=r.ownerDocument.body),r}function tj(e,t){let r=e3(e);if(tr(e))return r;if(!e9(e)){let t=tl(e);for(;t&&!to(t);){if(e7(t)&&!tw(t))return t;t=tl(t)}return r}let n=tb(e,t);for(;n&&["table","td","th"].includes(e4(n))&&tw(n);)n=tb(n,t);return n&&to(n)&&tw(n)&&!tn(n)?r:n||function(e){let t=tl(e);for(;e9(t)&&!to(t);){if(tn(t))return t;if(tr(t))break;t=tl(t)}return null}(e)||r}let tN=async function(e){let t=this.getOffsetParent||tj,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=e9(t),a=e6(t),o="fixed"===r,i=tg(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=eF(0);if(n||!n&&!o)if(("body"!==e4(t)||tt(a))&&(s=ts(t)),n){let e=tg(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&(l.x=tv(a));let c=!a||n||o?eF(0):tx(a,s);return{x:i.left+s.scrollLeft-l.x-c.x,y:i.top+s.scrollTop-l.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},tE={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e,o="fixed"===a,i=e6(n),s=!!t&&tr(t.floating);if(n===i||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=eF(1),d=eF(0),u=e9(n);if((u||!u&&!o)&&(("body"!==e4(n)||tt(i))&&(l=ts(n)),e9(n))){let e=tg(n);c=tp(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let f=!i||u||o?eF(0):tx(i,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-l.scrollTop*c.y+d.y+f.y}},getDocumentElement:e6,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e,o=[..."clippingAncestors"===r?tr(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=tc(e,[],!1).filter(e=>e7(e)&&"body"!==e4(e)),a=null,o="fixed"===ti(e).position,i=o?tl(e):e;for(;e7(i)&&!to(i);){let t=ti(i),r=tn(i);r||"fixed"!==t.position||(a=null),(o?!r&&!a:!r&&"static"===t.position&&!!a&&["absolute","fixed"].includes(a.position)||tt(i)&&!r&&function e(t,r){let n=tl(t);return!(n===r||!e7(n)||to(n))&&("fixed"===ti(n).position||e(n,r))}(e,i))?n=n.filter(e=>e!==i):a=t,i=tl(i)}return t.set(e,n),n}(t,this._c):[].concat(r),n],i=o[0],s=o.reduce((e,r)=>{let n=ty(t,r,a);return e.top=eO(n.top,e.top),e.right=eL(n.right,e.right),e.bottom=eL(n.bottom,e.bottom),e.left=eO(n.left,e.left),e},ty(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:tj,getElementRects:tN,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=tu(e);return{width:t,height:r}},getScale:tp,isElement:e7,isRTL:function(e){return"rtl"===ti(e).direction}};function tC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let tR=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:a,rects:o,platform:i,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=eG(e,t)||{};if(null==c)return{};let u=eY(d),f={x:r,y:n},p=eV(e$(a)),h=eq(p),m=await i.getDimensions(c),g="y"===p,v=g?"clientHeight":"clientWidth",x=o.reference[h]+o.reference[p]-f[p]-o.floating[h],y=f[p]-o.reference[p],w=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),b=w?w[v]:0;b&&await (null==i.isElement?void 0:i.isElement(w))||(b=s.floating[v]||o.floating[h]);let j=b/2-m[h]/2-1,N=eL(u[g?"top":"left"],j),E=eL(u[g?"bottom":"right"],j),C=b-m[h]-E,R=b/2-m[h]/2+(x/2-y/2),S=eO(N,eL(R,C)),k=!l.arrow&&null!=ez(a)&&R!==S&&o.reference[h]/2-(R<N?N:E)-m[h]/2<0,T=k?R<N?R-N:R-C:0;return{[p]:f[p]+T,data:{[p]:S,centerOffset:R-S-T,...k&&{alignmentOffset:T}},reset:k}}}),tS=(e,t,r)=>{let n=new Map,a={platform:tE,...r},o={...a.platform,_c:n};return eJ(e,t,{...a,platform:o})};var tk=r(51215),tT="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;function tP(e,t){let r,n,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!tP(e[n],t[n]))return!1;return!0}if((r=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!=n--;){let r=a[n];if(("_owner"!==r||!e.$$typeof)&&!tP(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tM(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tA(e,t){let r=tM(e);return Math.round(t*r)/r}function tD(e){let t=c.useRef(e);return tT(()=>{t.current=e}),t}let tL=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?tR({element:r.current,padding:n}).fn(t):{}:r?tR({element:r,padding:n}).fn(t):{}}}),tO=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:a,y:o,placement:i,middlewareData:s}=t,l=await e2(t,e);return i===(null==(r=s.offset)?void 0:r.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}}(e),options:[e,t]}),tI=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=eG(e,t),c={x:r,y:n},d=await eQ(t,l),u=e$(eH(a)),f=eV(u),p=c[f],h=c[u];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=p+d[e],n=p-d[t];p=eO(r,eL(p,n))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=h+d[e],n=h-d[t];h=eO(r,eL(h,n))}let m=s.fn({...t,[f]:p,[u]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:o,[u]:i}}}}}}(e),options:[e,t]}),t_=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=eG(e,t),d={x:r,y:n},u=e$(a),f=eV(u),p=d[f],h=d[u],m=eG(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){let e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,r=o.reference[f]+o.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var v,x;let e="y"===f?"width":"height",t=["top","left"].includes(eH(a)),r=o.reference[u]-o.floating[e]+(t&&(null==(v=i.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),n=o.reference[u]+o.reference[e]+(t?0:(null==(x=i.offset)?void 0:x[u])||0)-(t?g.crossAxis:0);h<r?h=r:h>n&&(h=n)}return{[f]:p,[u]:h}}}}(e),options:[e,t]}),tF=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,a,o,i;let{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=eG(e,t);if(null!=(r=l.arrow)&&r.alignmentOffset)return{};let w=eH(s),b=e$(d),j=eH(d)===d,N=await (null==u.isRTL?void 0:u.isRTL(f.floating)),E=m||(j||!x?[eU(d)]:function(e){let t=eU(e);return[eK(e),t,eK(t)]}(d)),C="none"!==v;!m&&C&&E.push(...function(e,t,r,n){let a=ez(e),o=function(e,t,r){let n=["left","right"],a=["right","left"];switch(e){case"top":case"bottom":if(r)return t?a:n;return t?n:a;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(eH(e),"start"===r,n);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(eK)))),o}(d,x,v,N));let R=[d,...E],S=await eQ(t,y),k=[],T=(null==(n=l.flip)?void 0:n.overflows)||[];if(p&&k.push(S[w]),h){let e=function(e,t,r){void 0===r&&(r=!1);let n=ez(e),a=eV(e$(e)),o=eq(a),i="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=eU(i)),[i,eU(i)]}(s,c,N);k.push(S[e[0]],S[e[1]])}if(T=[...T,{placement:s,overflows:k}],!k.every(e=>e<=0)){let e=((null==(a=l.flip)?void 0:a.index)||0)+1,t=R[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let r=null==(o=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(g){case"bestFit":{let e=null==(i=T.filter(e=>{if(C){let t=e$(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(r=e);break}case"initialPlacement":r=d}if(s!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),tB=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;let a,o,{placement:i,rects:s,platform:l,elements:c}=t,{apply:d=()=>{},...u}=eG(e,t),f=await eQ(t,u),p=eH(i),h=ez(i),m="y"===e$(i),{width:g,height:v}=s.floating;"top"===p||"bottom"===p?(a=p,o=h===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(o=p,a="end"===h?"top":"bottom");let x=v-f.top-f.bottom,y=g-f.left-f.right,w=eL(v-f[a],x),b=eL(g-f[o],y),j=!t.middlewareData.shift,N=w,E=b;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(E=y),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(N=x),j&&!h){let e=eO(f.left,0),t=eO(f.right,0),r=eO(f.top,0),n=eO(f.bottom,0);m?E=g-2*(0!==e||0!==t?e+t:eO(f.left,f.right)):N=v-2*(0!==r||0!==n?r+n:eO(f.top,f.bottom))}await d({...t,availableWidth:E,availableHeight:N});let C=await l.getDimensions(c.floating);return g!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tW=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...a}=eG(e,t);switch(n){case"referenceHidden":{let e=e0(await eQ(t,{...a,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:e1(e)}}}case"escaped":{let e=e0(await eQ(t,{...a,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:e1(e)}}}default:return{}}}}}(e),options:[e,t]}),tG=(e,t)=>({...tL(e),options:[e,t]});var tH=c.forwardRef((e,t)=>{let{children:r,width:n=10,height:a=5,...o}=e;return(0,l.jsx)(ed.sG.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tH.displayName="Arrow";var tz=r(66156),tV="Popper",[tq,t$]=(0,el.A)(tV),[tK,tU]=tq(tV),tY=e=>{let{__scopePopper:t,children:r}=e,[n,a]=c.useState(null);return(0,l.jsx)(tK,{scope:t,anchor:n,onAnchorChange:a,children:r})};tY.displayName=tV;var tX="PopperAnchor",tZ=c.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...a}=e,o=tU(tX,r),i=c.useRef(null),s=(0,es.s)(t,i);return c.useEffect(()=>{o.onAnchorChange(n?.current||i.current)}),n?null:(0,l.jsx)(ed.sG.div,{...a,ref:s})});tZ.displayName=tX;var tJ="PopperContent",[tQ,t0]=tq(tJ),t1=c.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:s=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,x=tU(tJ,r),[y,w]=c.useState(null),b=(0,es.s)(t,e=>w(e)),[j,N]=c.useState(null),E=function(e){let[t,r]=c.useState(void 0);return(0,tz.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,a;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,a=t.blockSize}else n=e.offsetWidth,a=e.offsetHeight;r({width:n,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(j),C=E?.width??0,R=E?.height??0,S="number"==typeof f?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],T=k.length>0,P={padding:S,boundary:k.filter(t3),altBoundary:T},{refs:M,floatingStyles:A,placement:D,isPositioned:L,middlewareData:O}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:s=!0,whileElementsMounted:l,open:d}=e,[u,f]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=c.useState(n);tP(p,n)||h(n);let[m,g]=c.useState(null),[v,x]=c.useState(null),y=c.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),w=c.useCallback(e=>{e!==E.current&&(E.current=e,x(e))},[]),b=o||m,j=i||v,N=c.useRef(null),E=c.useRef(null),C=c.useRef(u),R=null!=l,S=tD(l),k=tD(a),T=tD(d),P=c.useCallback(()=>{if(!N.current||!E.current)return;let e={placement:t,strategy:r,middleware:p};k.current&&(e.platform=k.current),tS(N.current,E.current,e).then(e=>{let t={...e,isPositioned:!1!==T.current};M.current&&!tP(C.current,t)&&(C.current=t,tk.flushSync(()=>{f(t)}))})},[p,t,r,k,T]);tT(()=>{!1===d&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[d]);let M=c.useRef(!1);tT(()=>(M.current=!0,()=>{M.current=!1}),[]),tT(()=>{if(b&&(N.current=b),j&&(E.current=j),b&&j){if(S.current)return S.current(b,j,P);P()}},[b,j,P,S,R]);let A=c.useMemo(()=>({reference:N,floating:E,setReference:y,setFloating:w}),[y,w]),D=c.useMemo(()=>({reference:b,floating:j}),[b,j]),L=c.useMemo(()=>{let e={position:r,left:0,top:0};if(!D.floating)return e;let t=tA(D.floating,u.x),n=tA(D.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...tM(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,D.floating,u.x,u.y]);return c.useMemo(()=>({...u,update:P,refs:A,elements:D,floatingStyles:L}),[u,P,A,D,L])}({strategy:"fixed",placement:n+("center"!==o?"-"+o:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let a;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,d=tf(e),u=o||i?[...d?tc(d):[],...tc(t)]:[];u.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)});let f=d&&l?function(e,t){let r,n=null,a=e6(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();let c=e.getBoundingClientRect(),{left:d,top:u,width:f,height:p}=c;if(s||t(),!f||!p)return;let h=e_(u),m=e_(a.clientWidth-(d+f)),g={rootMargin:-h+"px "+-m+"px "+-e_(a.clientHeight-(u+p))+"px "+-e_(d)+"px",threshold:eO(0,eL(1,l))||1},v=!0;function x(t){let n=t[0].intersectionRatio;if(n!==l){if(!v)return i();n?i(!1,n):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||tC(c,e.getBoundingClientRect())||i(),v=!1}try{n=new IntersectionObserver(x,{...g,root:a.ownerDocument})}catch(e){n=new IntersectionObserver(x,g)}n.observe(e)}(!0),o}(d,r):null,p=-1,h=null;s&&(h=new ResizeObserver(e=>{let[n]=e;n&&n.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let m=c?tg(e):null;return c&&function t(){let n=tg(e);m&&!tC(m,n)&&r(),m=n,a=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{o&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=h)||e.disconnect(),h=null,c&&cancelAnimationFrame(a)}})(...e,{animationFrame:"always"===m}),elements:{reference:x.anchor},middleware:[tO({mainAxis:a+R,alignmentAxis:i}),d&&tI({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?t_():void 0,...P}),d&&tF({...P}),tB({...P,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:a,height:o}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${n}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${o}px`)}}),j&&tG({element:j,padding:s}),t6({arrowWidth:C,arrowHeight:R}),h&&tW({strategy:"referenceHidden",...P})]}),[I,_]=t8(D),F=(0,ep.c)(g);(0,tz.N)(()=>{L&&F?.()},[L,F]);let B=O.arrow?.x,W=O.arrow?.y,G=O.arrow?.centerOffset!==0,[H,z]=c.useState();return(0,tz.N)(()=>{y&&z(window.getComputedStyle(y).zIndex)},[y]),(0,l.jsx)("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:L?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(tQ,{scope:r,placedSide:I,onArrowChange:N,arrowX:B,arrowY:W,shouldHideArrow:G,children:(0,l.jsx)(ed.sG.div,{"data-side":I,"data-align":_,...v,ref:b,style:{...v.style,animation:L?void 0:"none"}})})})});t1.displayName=tJ;var t2="PopperArrow",t5={top:"bottom",right:"left",bottom:"top",left:"right"},t4=c.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,a=t0(t2,r),o=t5[a.placedSide];return(0,l.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(tH,{...n,ref:t,style:{...n.style,display:"block"}})})});function t3(e){return null!==e}t4.displayName=t2;var t6=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,i=o?0:e.arrowWidth,s=o?0:e.arrowHeight,[l,c]=t8(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(a.arrow?.x??0)+i/2,f=(a.arrow?.y??0)+s/2,p="",h="";return"bottom"===l?(p=o?d:`${u}px`,h=`${-s}px`):"top"===l?(p=o?d:`${u}px`,h=`${n.floating.height+s}px`):"right"===l?(p=`${-s}px`,h=o?d:`${f}px`):"left"===l&&(p=`${n.floating.width+s}px`,h=o?d:`${f}px`),{data:{x:p,y:h}}}});function t8(e){let[t,r="center"]=e.split("-");return[t,r]}var t7=c.forwardRef((e,t)=>{let{container:r,...n}=e,[a,o]=c.useState(!1);(0,tz.N)(()=>o(!0),[]);let i=r||a&&globalThis?.document?.body;return i?tk.createPortal((0,l.jsx)(ed.sG.div,{...n,ref:t}),i):null});t7.displayName="Portal";var t9=r(46059),re=r(72942),rt=c.forwardRef((e,t)=>{let{children:r,...n}=e,a=c.Children.toArray(r),o=a.find(ra);if(o){let e=o.props.children,r=a.map(t=>t!==o?t:c.Children.count(e)>1?c.Children.only(null):c.isValidElement(e)?e.props.children:null);return(0,l.jsx)(rr,{...n,ref:t,children:c.isValidElement(e)?c.cloneElement(e,void 0,r):null})}return(0,l.jsx)(rr,{...n,ref:t,children:r})});rt.displayName="Slot";var rr=c.forwardRef((e,t)=>{let{children:r,...n}=e;if(c.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),a=function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{o(...e),a(...e)}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==c.Fragment&&(a.ref=t?(0,es.t)(t,e):e),c.cloneElement(r,a)}return c.Children.count(r)>1?c.Children.only(null):null});rr.displayName="SlotClone";var rn=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function ra(e){return c.isValidElement(e)&&e.type===rn}var ro=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},ri=new WeakMap,rs=new WeakMap,rl={},rc=0,rd=function(e){return e&&(e.host||rd(e.parentNode))},ru=function(e,t,r,n){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=rd(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rl[r]||(rl[r]=new WeakMap);var o=rl[r],i=[],s=new Set,l=new Set(a),c=function(e){!e||s.has(e)||(s.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(ri.get(e)||0)+1,c=(o.get(e)||0)+1;ri.set(e,l),o.set(e,c),i.push(e),1===l&&a&&rs.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),s.clear(),rc++,function(){i.forEach(function(e){var t=ri.get(e)-1,a=o.get(e)-1;ri.set(e,t),o.set(e,a),t||(rs.has(e)||e.removeAttribute(n),rs.delete(e)),a||e.removeAttribute(r)}),--rc||(ri=new WeakMap,ri=new WeakMap,rs=new WeakMap,rl={})}},rf=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||ro(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ru(n,a,r,"aria-hidden")):function(){return null}},rp=r(4363),rh="right-scroll-bar-position",rm="width-before-scroll-bar";function rg(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var rv="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,rx=new WeakMap;function ry(e){return e}var rw=function(e){void 0===e&&(e={});var t,r,n,a,o=(t=null,void 0===r&&(r=ry),n=[],a=!1,{read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var t=r(e,a);return n.push(t),function(){n=n.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(a=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){a=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var o=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(o)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}});return o.options=(0,rp.Cl)({async:!0,ssr:!1},e),o}(),rb=function(){},rj=c.forwardRef(function(e,t){var r,n,a,o,i=c.useRef(null),s=c.useState({onScrollCapture:rb,onWheelCapture:rb,onTouchMoveCapture:rb}),l=s[0],d=s[1],u=e.forwardProps,f=e.children,p=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,x=e.noIsolation,y=e.inert,w=e.allowPinchZoom,b=e.as,j=e.gapMode,N=(0,rp.Tt)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=(r=[i,t],n=function(e){return r.forEach(function(t){return rg(t,e)})},(a=(0,c.useState)(function(){return{value:null,callback:n,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=n,o=a.facade,rv(function(){var e=rx.get(o);if(e){var t=new Set(e),n=new Set(r),a=o.current;t.forEach(function(e){n.has(e)||rg(e,null)}),n.forEach(function(e){t.has(e)||rg(e,a)})}rx.set(o,r)},[r]),o),C=(0,rp.Cl)((0,rp.Cl)({},N),l);return c.createElement(c.Fragment,null,m&&c.createElement(v,{sideCar:rw,removeScrollBar:h,shards:g,noIsolation:x,inert:y,setCallbacks:d,allowPinchZoom:!!w,lockRef:i,gapMode:j}),u?c.cloneElement(c.Children.only(f),(0,rp.Cl)((0,rp.Cl)({},C),{ref:E})):c.createElement(void 0===b?"div":b,(0,rp.Cl)({},C,{className:p,ref:E}),f))});rj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},rj.classNames={fullWidth:rm,zeroRight:rh};var rN=function(e){var t=e.sideCar,r=(0,rp.Tt)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return c.createElement(n,(0,rp.Cl)({},r))};rN.isSideCarExport=!0;var rE=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s||r.nc;return t&&e.setAttribute("nonce",t),e}())){var a,o;(a=t).styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),o=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rC=function(){var e=rE();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rR=function(){var e=rC();return function(t){return e(t.styles,t.dynamic),null}},rS={left:0,top:0,right:0,gap:0},rk=function(e){return parseInt(e||"",10)||0},rT=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[rk(r),rk(n),rk(a)]},rP=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return rS;var t=rT(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rM=rR(),rA="data-scroll-locked",rD=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(rA,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(rh," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(rm," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(rh," .").concat(rh," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(rm," .").concat(rm," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(rA,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},rL=function(){var e=parseInt(document.body.getAttribute(rA)||"0",10);return isFinite(e)?e:0},rO=function(){c.useEffect(function(){return document.body.setAttribute(rA,(rL()+1).toString()),function(){var e=rL()-1;e<=0?document.body.removeAttribute(rA):document.body.setAttribute(rA,e.toString())}},[])},rI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=void 0===n?"margin":n;rO();var o=c.useMemo(function(){return rP(a)},[a]);return c.createElement(rM,{styles:rD(o,!t,a,r?"":"!important")})},r_=!1;if("undefined"!=typeof window)try{var rF=Object.defineProperty({},"passive",{get:function(){return r_=!0,!0}});window.addEventListener("test",rF,rF),window.removeEventListener("test",rF,rF)}catch(e){r_=!1}var rB=!!r_&&{passive:!1},rW=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},rG=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),rH(e,n)){var a=rz(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rH=function(e,t){return"v"===e?rW(t,"overflowY"):rW(t,"overflowX")},rz=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},rV=function(e,t,r,n,a){var o,i=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),s=i*n,l=r.target,c=t.contains(l),d=!1,u=s>0,f=0,p=0;do{var h=rz(e,l),m=h[0],g=h[1]-h[2]-i*m;(m||g)&&rH(e,l)&&(f+=g,p+=m),l=l instanceof ShadowRoot?l.host:l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return u&&(a&&1>Math.abs(f)||!a&&s>f)?d=!0:!u&&(a&&1>Math.abs(p)||!a&&-s>p)&&(d=!0),d},rq=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r$=function(e){return[e.deltaX,e.deltaY]},rK=function(e){return e&&"current"in e?e.current:e},rU=0,rY=[];let rX=(n=function(e){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),a=c.useState(rU++)[0],o=c.useState(rR)[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(0,rp.fX)([e.lockRef.current],(e.shards||[]).map(rK),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=c.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,o=rq(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var f=rG(u,d);if(!f)return!0;if(f?a=u:(a="v"===u?"h":"v",f=rG(u,d)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=a),!a)return!0;var p=n.current||a;return rV(p,t,e,"h"===p?l:c,!0)},[]),l=c.useCallback(function(e){if(rY.length&&rY[rY.length-1]===o){var r="deltaY"in e?r$(e):rq(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var a=(i.current.shards||[]).map(rK).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?s(e,a[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=c.useCallback(function(e,r,n,a){var o={name:e,delta:r,target:n,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),u=c.useCallback(function(e){r.current=rq(e),n.current=void 0},[]),f=c.useCallback(function(t){d(t.type,r$(t),t.target,s(t,e.lockRef.current))},[]),p=c.useCallback(function(t){d(t.type,rq(t),t.target,s(t,e.lockRef.current))},[]);c.useEffect(function(){return rY.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,rB),document.addEventListener("touchmove",l,rB),document.addEventListener("touchstart",u,rB),function(){rY=rY.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,rB),document.removeEventListener("touchmove",l,rB),document.removeEventListener("touchstart",u,rB)}},[]);var h=e.removeScrollBar,m=e.inert;return c.createElement(c.Fragment,null,m?c.createElement(o,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,h?c.createElement(rI,{gapMode:e.gapMode}):null)},rw.useMedium(n),rN);var rZ=c.forwardRef(function(e,t){return c.createElement(rj,(0,rp.Cl)({},e,{ref:t,sideCar:rX}))});rZ.classNames=rj.classNames;var rJ=["Enter"," "],rQ=["ArrowUp","PageDown","End"],r0=["ArrowDown","PageUp","Home",...rQ],r1={ltr:[...rJ,"ArrowRight"],rtl:[...rJ,"ArrowLeft"]},r2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},r5="Menu",[r4,r3,r6]=(0,eu.N)(r5),[r8,r7]=(0,el.A)(r5,[r6,t$,re.RG]),r9=t$(),ne=(0,re.RG)(),[nt,nr]=r8(r5),[nn,na]=r8(r5),no=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,s=r9(t),[d,u]=c.useState(null),f=c.useRef(!1),p=(0,ep.c)(o),h=(0,ef.jH)(a);return c.useEffect(()=>{let e=()=>{f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>f.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,l.jsx)(tY,{...s,children:(0,l.jsx)(nt,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:u,children:(0,l.jsx)(nn,{scope:t,onClose:c.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};no.displayName=r5;var ni=c.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,a=r9(r);return(0,l.jsx)(tZ,{...a,...n,ref:t})});ni.displayName="MenuAnchor";var ns="MenuPortal",[nl,nc]=r8(ns,{forceMount:void 0}),nd=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=nr(ns,t);return(0,l.jsx)(nl,{scope:t,forceMount:r,children:(0,l.jsx)(t9.C,{present:r||o.open,children:(0,l.jsx)(t7,{asChild:!0,container:a,children:n})})})};nd.displayName=ns;var nu="MenuContent",[nf,np]=r8(nu),nh=c.forwardRef((e,t)=>{let r=nc(nu,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=nr(nu,e.__scopeMenu),i=na(nu,e.__scopeMenu);return(0,l.jsx)(r4.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(t9.C,{present:n||o.open,children:(0,l.jsx)(r4.Slot,{scope:e.__scopeMenu,children:i.modal?(0,l.jsx)(nm,{...a,ref:t}):(0,l.jsx)(ng,{...a,ref:t})})})})}),nm=c.forwardRef((e,t)=>{let r=nr(nu,e.__scopeMenu),n=c.useRef(null),a=(0,es.s)(t,n);return c.useEffect(()=>{let e=n.current;if(e)return rf(e)},[]),(0,l.jsx)(nv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,ei.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ng=c.forwardRef((e,t)=>{let r=nr(nu,e.__scopeMenu);return(0,l.jsx)(nv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),nv=c.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...v}=e,x=nr(nu,r),y=na(nu,r),w=r9(r),b=ne(r),j=r3(r),[N,E]=c.useState(null),C=c.useRef(null),R=(0,es.s)(t,C,x.onContentChange),S=c.useRef(0),k=c.useRef(""),T=c.useRef(0),P=c.useRef(null),M=c.useRef("right"),A=c.useRef(0),D=g?rZ:c.Fragment,L=g?{as:rt,allowPinchZoom:!0}:void 0,O=e=>{let t=k.current+e,r=j().filter(e=>!e.disabled),n=document.activeElement,a=r.find(e=>e.ref.current===n)?.textValue,o=function(e,t,r){var n;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=r?e.indexOf(r):-1,i=(n=Math.max(o,0),e.map((t,r)=>e[(n+r)%e.length]));1===a.length&&(i=i.filter(e=>e!==r));let s=i.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(r.map(e=>e.textValue),t,a),i=r.find(e=>e.textValue===o)?.ref.current;!function e(t){k.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout(()=>e(""),1e3))}(t),i&&setTimeout(()=>i.focus())};c.useEffect(()=>()=>window.clearTimeout(S.current),[]),eb();let I=c.useCallback(e=>M.current===P.current?.side&&function(e,t){return!!t&&function(e,t){let{x:r,y:n}=e,a=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let i=t[e].x,s=t[e].y,l=t[o].x,c=t[o].y;s>n!=c>n&&r<(l-i)*(n-s)/(c-s)+i&&(a=!a)}return a}({x:e.clientX,y:e.clientY},t)}(e,P.current?.area),[]);return(0,l.jsx)(nf,{scope:r,searchRef:k,onItemEnter:c.useCallback(e=>{I(e)&&e.preventDefault()},[I]),onItemLeave:c.useCallback(e=>{I(e)||(C.current?.focus(),E(null))},[I]),onTriggerLeave:c.useCallback(e=>{I(e)&&e.preventDefault()},[I]),pointerGraceTimerRef:T,onPointerGraceIntentChange:c.useCallback(e=>{P.current=e},[]),children:(0,l.jsx)(D,{...L,children:(0,l.jsx)(eR,{asChild:!0,trapped:a,onMountAutoFocus:(0,ei.m)(o,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,l.jsx)(eg,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:h,onDismiss:m,children:(0,l.jsx)(re.bL,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:E,onEntryFocus:(0,ei.m)(d,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,l.jsx)(t1,{role:"menu","aria-orientation":"vertical","data-state":nV(x.open),"data-radix-menu-content":"",dir:y.dir,...w,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:(0,ei.m)(v.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&O(e.key));let a=C.current;if(e.target!==a||!r0.includes(e.key))return;e.preventDefault();let o=j().filter(e=>!e.disabled).map(e=>e.ref.current);rQ.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(o)}),onBlur:(0,ei.m)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),k.current="")}),onPointerMove:(0,ei.m)(e.onPointerMove,nK(e=>{let t=e.target,r=A.current!==e.clientX;e.currentTarget.contains(t)&&r&&(M.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});nh.displayName=nu;var nx=c.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,l.jsx)(ed.sG.div,{role:"group",...n,ref:t})});nx.displayName="MenuGroup";var ny=c.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,l.jsx)(ed.sG.div,{...n,ref:t})});ny.displayName="MenuLabel";var nw="MenuItem",nb="menu.itemSelect",nj=c.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...a}=e,o=c.useRef(null),i=na(nw,e.__scopeMenu),s=np(nw,e.__scopeMenu),d=(0,es.s)(t,o),u=c.useRef(!1);return(0,l.jsx)(nN,{...a,ref:d,disabled:r,onClick:(0,ei.m)(e.onClick,()=>{let e=o.current;if(!r&&e){let t=new CustomEvent(nb,{bubbles:!0,cancelable:!0});e.addEventListener(nb,e=>n?.(e),{once:!0}),(0,ed.hO)(e,t),t.defaultPrevented?u.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:(0,ei.m)(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:(0,ei.m)(e.onKeyDown,e=>{let t=""!==s.searchRef.current;r||t&&" "===e.key||rJ.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});nj.displayName=nw;var nN=c.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=np(nw,r),s=ne(r),d=c.useRef(null),u=(0,es.s)(t,d),[f,p]=c.useState(!1),[h,m]=c.useState("");return c.useEffect(()=>{let e=d.current;e&&m((e.textContent??"").trim())},[o.children]),(0,l.jsx)(r4.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:(0,l.jsx)(re.q7,{asChild:!0,...s,focusable:!n,children:(0,l.jsx)(ed.sG.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:(0,ei.m)(e.onPointerMove,nK(e=>{n?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,ei.m)(e.onPointerLeave,nK(e=>i.onItemLeave(e))),onFocus:(0,ei.m)(e.onFocus,()=>p(!0)),onBlur:(0,ei.m)(e.onBlur,()=>p(!1))})})})}),nE=c.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...a}=e;return(0,l.jsx)(nA,{scope:e.__scopeMenu,checked:r,children:(0,l.jsx)(nj,{role:"menuitemcheckbox","aria-checked":nq(r)?"mixed":r,...a,ref:t,"data-state":n$(r),onSelect:(0,ei.m)(a.onSelect,()=>n?.(!!nq(r)||!r),{checkForDefaultPrevented:!1})})})});nE.displayName="MenuCheckboxItem";var nC="MenuRadioGroup",[nR,nS]=r8(nC,{value:void 0,onValueChange:()=>{}}),nk=c.forwardRef((e,t)=>{let{value:r,onValueChange:n,...a}=e,o=(0,ep.c)(n);return(0,l.jsx)(nR,{scope:e.__scopeMenu,value:r,onValueChange:o,children:(0,l.jsx)(nx,{...a,ref:t})})});nk.displayName=nC;var nT="MenuRadioItem",nP=c.forwardRef((e,t)=>{let{value:r,...n}=e,a=nS(nT,e.__scopeMenu),o=r===a.value;return(0,l.jsx)(nA,{scope:e.__scopeMenu,checked:o,children:(0,l.jsx)(nj,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":n$(o),onSelect:(0,ei.m)(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});nP.displayName=nT;var nM="MenuItemIndicator",[nA,nD]=r8(nM,{checked:!1}),nL=c.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...a}=e,o=nD(nM,r);return(0,l.jsx)(t9.C,{present:n||nq(o.checked)||!0===o.checked,children:(0,l.jsx)(ed.sG.span,{...a,ref:t,"data-state":n$(o.checked)})})});nL.displayName=nM;var nO=c.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,l.jsx)(ed.sG.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});nO.displayName="MenuSeparator";var nI=c.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,a=r9(r);return(0,l.jsx)(t4,{...a,...n,ref:t})});nI.displayName="MenuArrow";var n_="MenuSub",[nF,nB]=r8(n_);var nW="MenuSubTrigger",nG=c.forwardRef((e,t)=>{let r=nr(nW,e.__scopeMenu),n=na(nW,e.__scopeMenu),a=nB(nW,e.__scopeMenu),o=np(nW,e.__scopeMenu),i=c.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:d}=o,u={__scopeMenu:e.__scopeMenu},f=c.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{let e=s.current;return()=>{window.clearTimeout(e),d(null)}},[s,d]),(0,l.jsx)(ni,{asChild:!0,...u,children:(0,l.jsx)(nN,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":nV(r.open),...e,ref:(0,es.t)(t,a.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,ei.m)(e.onPointerMove,nK(t=>{o.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||i.current||(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100)))})),onPointerLeave:(0,ei.m)(e.onPointerLeave,nK(e=>{f();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,a="right"===n,i=t[a?"left":"right"],l=t[a?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+(a?-5:5),y:e.clientY},{x:i,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:i,y:t.bottom}],side:n}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:(0,ei.m)(e.onKeyDown,t=>{let a=""!==o.searchRef.current;e.disabled||a&&" "===t.key||r1[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});nG.displayName=nW;var nH="MenuSubContent",nz=c.forwardRef((e,t)=>{let r=nc(nu,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=nr(nu,e.__scopeMenu),i=na(nu,e.__scopeMenu),s=nB(nH,e.__scopeMenu),d=c.useRef(null),u=(0,es.s)(t,d);return(0,l.jsx)(r4.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(t9.C,{present:n||o.open,children:(0,l.jsx)(r4.Slot,{scope:e.__scopeMenu,children:(0,l.jsx)(nv,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,ei.m)(e.onFocusOutside,e=>{e.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:(0,ei.m)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,ei.m)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=r2[i.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),s.trigger?.focus(),e.preventDefault())})})})})})});function nV(e){return e?"open":"closed"}function nq(e){return"indeterminate"===e}function n$(e){return nq(e)?"indeterminate":e?"checked":"unchecked"}function nK(e){return t=>"mouse"===t.pointerType?e(t):void 0}nz.displayName=nH;var nU="DropdownMenu",[nY,nX]=(0,el.A)(nU,[r7]),nZ=r7(),[nJ,nQ]=nY(nU),n0=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,d=nZ(t),u=c.useRef(null),[f=!1,p]=(0,ec.i)({prop:a,defaultProp:o,onChange:i});return(0,l.jsx)(nJ,{scope:t,triggerId:(0,eA.B)(),triggerRef:u,contentId:(0,eA.B)(),open:f,onOpenChange:p,onOpenToggle:c.useCallback(()=>p(e=>!e),[p]),modal:s,children:(0,l.jsx)(no,{...d,open:f,onOpenChange:p,dir:n,modal:s,children:r})})};n0.displayName=nU;var n1="DropdownMenuTrigger",n2=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=nQ(n1,r),i=nZ(r);return(0,l.jsx)(ni,{asChild:!0,...i,children:(0,l.jsx)(ed.sG.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:(0,es.t)(t,o.triggerRef),onPointerDown:(0,ei.m)(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,ei.m)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});n2.displayName=n1;var n5=e=>{let{__scopeDropdownMenu:t,...r}=e,n=nZ(t);return(0,l.jsx)(nd,{...n,...r})};n5.displayName="DropdownMenuPortal";var n4="DropdownMenuContent",n3=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nQ(n4,r),o=nZ(r),i=c.useRef(!1);return(0,l.jsx)(nh,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:(0,ei.m)(e.onCloseAutoFocus,e=>{i.current||a.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,ei.m)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!a.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n3.displayName=n4;var n6=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nx,{...a,...n,ref:t})});n6.displayName="DropdownMenuGroup";var n8=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(ny,{...a,...n,ref:t})});n8.displayName="DropdownMenuLabel";var n7=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nj,{...a,...n,ref:t})});n7.displayName="DropdownMenuItem";var n9=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nE,{...a,...n,ref:t})});n9.displayName="DropdownMenuCheckboxItem",c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nk,{...a,...n,ref:t})}).displayName="DropdownMenuRadioGroup";var ae=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nP,{...a,...n,ref:t})});ae.displayName="DropdownMenuRadioItem";var at=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nL,{...a,...n,ref:t})});at.displayName="DropdownMenuItemIndicator";var ar=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nO,{...a,...n,ref:t})});ar.displayName="DropdownMenuSeparator",c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nI,{...a,...n,ref:t})}).displayName="DropdownMenuArrow";var an=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nG,{...a,...n,ref:t})});an.displayName="DropdownMenuSubTrigger";var aa=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,a=nZ(r);return(0,l.jsx)(nz,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aa.displayName="DropdownMenuSubContent";let ao=(0,j.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ai=(0,j.A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);c.forwardRef(({className:e,inset:t,children:r,...n},a)=>(0,l.jsxs)(an,{ref:a,className:(0,M.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,(0,l.jsx)(ao,{className:"ml-auto"})]})).displayName=an.displayName,c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(aa,{ref:r,className:(0,M.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=aa.displayName;let as=c.forwardRef(({className:e,sideOffset:t=4,...r},n)=>(0,l.jsx)(n5,{children:(0,l.jsx)(n3,{ref:n,sideOffset:t,className:(0,M.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));as.displayName=n3.displayName;let al=c.forwardRef(({className:e,inset:t,...r},n)=>(0,l.jsx)(n7,{ref:n,className:(0,M.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));al.displayName=n7.displayName,c.forwardRef(({className:e,children:t,checked:r,...n},a)=>(0,l.jsxs)(n9,{ref:a,className:(0,M.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(at,{children:(0,l.jsx)(G.A,{className:"h-4 w-4"})})}),t]})).displayName=n9.displayName,c.forwardRef(({className:e,children:t,...r},n)=>(0,l.jsxs)(ae,{ref:n,className:(0,M.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(at,{children:(0,l.jsx)(ai,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=ae.displayName;let ac=c.forwardRef(({className:e,inset:t,...r},n)=>(0,l.jsx)(n8,{ref:n,className:(0,M.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ac.displayName=n8.displayName;let ad=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(ar,{ref:r,className:(0,M.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));function au(){let{setTheme:e}=(0,eo.D)();return(0,l.jsxs)(n0,{children:[(0,l.jsx)(n2,{asChild:!0,children:(0,l.jsxs)(y.$,{variant:"outline",size:"icon",children:[(0,l.jsx)(en,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,l.jsx)(ea,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,l.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,l.jsxs)(as,{align:"end",children:[(0,l.jsx)(al,{onClick:()=>e("light"),children:"Light"}),(0,l.jsx)(al,{onClick:()=>e("dark"),children:"Dark"}),(0,l.jsx)(al,{onClick:()=>e("system"),children:"System"})]})]})}function af({gameState:e,setCalls:t,setMade:r,setOutcomes:n,resetGame:a}){let{players:o,round:i,totalRounds:s,phase:d,tag:u}=e,[f,p]=(0,c.useState)({width:0,height:0}),h=(0,c.useMemo)(()=>{if("finished"!==d)return null;let e=Math.max(...o.map(e=>e.totalScore));return o.filter(t=>t.totalScore===e)},[o,d]);return(0,l.jsxs)("div",{className:"space-y-6",children:["finished"===d&&f.width>0&&(0,l.jsx)(er,{width:f.width,height:f.height,recycle:!1,numberOfPieces:500,tweenDuration:1e4}),(0,l.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(k,{className:"w-8 h-8 text-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-primary",children:"BridgeScore"}),u&&(0,l.jsx)("p",{className:"text-muted-foreground",children:u})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(au,{}),(0,l.jsxs)(y.$,{onClick:a,variant:"destructive",size:"sm",children:[(0,l.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Close Game"]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:o.map(e=>(0,l.jsx)(S.Zp,{children:(0,l.jsxs)(S.aR,{className:"p-2 md:p-4",children:[(0,l.jsx)(S.BT,{children:e.name}),(0,l.jsx)(S.ZB,{className:"text-2xl",children:e.totalScore})]})},e.id))}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(F,{players:o,totalRounds:s,currentRound:i,dealerIndex:e.dealerIndex})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:"finished"!==d?(0,l.jsx)(q,{round:i,phase:d,players:o,dealerIndex:e.dealerIndex,setCalls:t,setMade:r,setOutcomes:n},`${i}-${d}`):(0,l.jsxs)(S.Zp,{className:"shadow-lg animate-in fade-in",children:[(0,l.jsxs)(S.aR,{children:[(0,l.jsxs)(S.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(P,{className:"text-amber-400"}),"Game Over!"]}),(0,l.jsx)(S.BT,{children:h&&h.length>1?"It's a tie!":"The winner is..."})]}),(0,l.jsx)(S.Wu,{children:h&&h.map(e=>(0,l.jsxs)("div",{className:"text-center p-4 bg-secondary rounded-lg",children:[(0,l.jsx)("p",{className:"text-3xl font-bold text-accent",children:e.name}),(0,l.jsxs)("p",{className:"text-lg text-muted-foreground",children:["with ",e.totalScore," points"]})]},e.id))})]})})]})]})}ad.displayName=ar.displayName;var ap="ScrollArea",[ah,am]=(0,el.A)(ap),[ag,av]=ah(ap),ax=c.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[s,d]=c.useState(null),[u,f]=c.useState(null),[p,h]=c.useState(null),[m,g]=c.useState(null),[v,x]=c.useState(null),[y,w]=c.useState(0),[b,j]=c.useState(0),[N,E]=c.useState(!1),[C,R]=c.useState(!1),S=(0,es.s)(t,e=>d(e)),k=(0,ef.jH)(a);return(0,l.jsx)(ag,{scope:r,type:n,dir:k,scrollHideDelay:o,scrollArea:s,viewport:u,onViewportChange:f,content:p,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:j,children:(0,l.jsx)(ed.sG.div,{dir:k,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});ax.displayName=ap;var ay="ScrollAreaViewport",aw=c.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:n,nonce:a,...o}=e,i=av(ay,r),s=c.useRef(null),d=(0,es.s)(t,s,i.onViewportChange);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,l.jsx)(ed.sG.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,l.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});aw.displayName=ay;var ab="ScrollAreaScrollbar",aj=c.forwardRef((e,t)=>{let{forceMount:r,...n}=e,a=av(ab,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,s="horizontal"===e.orientation;return c.useEffect(()=>(s?o(!0):i(!0),()=>{s?o(!1):i(!1)}),[s,o,i]),"hover"===a.type?(0,l.jsx)(aN,{...n,ref:t,forceMount:r}):"scroll"===a.type?(0,l.jsx)(aE,{...n,ref:t,forceMount:r}):"auto"===a.type?(0,l.jsx)(aC,{...n,ref:t,forceMount:r}):"always"===a.type?(0,l.jsx)(aR,{...n,ref:t}):null});aj.displayName=ab;var aN=c.forwardRef((e,t)=>{let{forceMount:r,...n}=e,a=av(ab,e.__scopeScrollArea),[o,i]=c.useState(!1);return c.useEffect(()=>{let e=a.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),i(!0)},n=()=>{t=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[a.scrollArea,a.scrollHideDelay]),(0,l.jsx)(t9.C,{present:r||o,children:(0,l.jsx)(aC,{"data-state":o?"visible":"hidden",...n,ref:t})})}),aE=c.forwardRef((e,t)=>{var r,n;let{forceMount:a,...o}=e,i=av(ab,e.__scopeScrollArea),s="horizontal"===e.orientation,d=aV(()=>f("SCROLL_END"),100),[u,f]=(r="hidden",n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},c.useReducer((e,t)=>n[e][t]??e,r));return c.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,f]),c.useEffect(()=>{let e=i.viewport,t=s?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(f("SCROLL"),d()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,s,f,d]),(0,l.jsx)(t9.C,{present:a||"hidden"!==u,children:(0,l.jsx)(aR,{"data-state":"hidden"===u?"hidden":"visible",...o,ref:t,onPointerEnter:(0,ei.m)(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:(0,ei.m)(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),aC=c.forwardRef((e,t)=>{let r=av(ab,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=c.useState(!1),s="horizontal"===e.orientation,d=aV(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(s?e:t)}},10);return aq(r.viewport,d),aq(r.content,d),(0,l.jsx)(t9.C,{present:n||o,children:(0,l.jsx)(aR,{"data-state":o?"visible":"hidden",...a,ref:t})})}),aR=c.forwardRef((e,t)=>{let{orientation:r="vertical",...n}=e,a=av(ab,e.__scopeScrollArea),o=c.useRef(null),i=c.useRef(0),[s,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aB(s.viewport,s.content),f={...n,sizes:s,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function p(e,t){return function(e,t,r,n="ltr"){let a=aW(r),o=t||a/2,i=r.scrollbar.paddingStart+o,s=r.scrollbar.size-r.scrollbar.paddingEnd-(a-o),l=r.content-r.viewport;return aH([i,s],"ltr"===n?[0,l]:[-1*l,0])(e)}(e,i.current,s,t)}return"horizontal"===r?(0,l.jsx)(aS,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=aG(a.viewport.scrollLeft,s,a.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}}):"vertical"===r?(0,l.jsx)(ak,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=aG(a.viewport.scrollTop,s);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}}):null}),aS=c.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...a}=e,o=av(ab,e.__scopeScrollArea),[i,s]=c.useState(),d=c.useRef(null),u=(0,es.s)(t,d,o.onScrollbarXChange);return c.useEffect(()=>{d.current&&s(getComputedStyle(d.current))},[d]),(0,l.jsx)(aM,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aW(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(o.viewport){let n=o.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:aF(i.paddingLeft),paddingEnd:aF(i.paddingRight)}})}})}),ak=c.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...a}=e,o=av(ab,e.__scopeScrollArea),[i,s]=c.useState(),d=c.useRef(null),u=(0,es.s)(t,d,o.onScrollbarYChange);return c.useEffect(()=>{d.current&&s(getComputedStyle(d.current))},[d]),(0,l.jsx)(aM,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aW(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(o.viewport){let n=o.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:aF(i.paddingTop),paddingEnd:aF(i.paddingBottom)}})}})}),[aT,aP]=ah(ab),aM=c.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:p,...h}=e,m=av(ab,r),[g,v]=c.useState(null),x=(0,es.s)(t,e=>v(e)),y=c.useRef(null),w=c.useRef(""),b=m.viewport,j=n.content-n.viewport,N=(0,ep.c)(f),E=(0,ep.c)(d),C=aV(p,10);function R(e){y.current&&u({x:e.clientX-y.current.left,y:e.clientY-y.current.top})}return c.useEffect(()=>{let e=e=>{let t=e.target;g?.contains(t)&&N(e,j)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[b,g,j,N]),c.useEffect(E,[n,E]),aq(g,C),aq(m.content,C),(0,l.jsx)(aT,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:(0,ep.c)(o),onThumbPointerUp:(0,ep.c)(i),onThumbPositionChange:E,onThumbPointerDown:(0,ep.c)(s),children:(0,l.jsx)(ed.sG.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:(0,ei.m)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),y.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),R(e))}),onPointerMove:(0,ei.m)(e.onPointerMove,R),onPointerUp:(0,ei.m)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),aA="ScrollAreaThumb",aD=c.forwardRef((e,t)=>{let{forceMount:r,...n}=e,a=aP(aA,e.__scopeScrollArea);return(0,l.jsx)(t9.C,{present:r||a.hasThumb,children:(0,l.jsx)(aL,{ref:t,...n})})}),aL=c.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:n,...a}=e,o=av(aA,r),i=aP(aA,r),{onThumbPositionChange:s}=i,d=(0,es.s)(t,e=>i.onThumbChange(e)),u=c.useRef(void 0),f=aV(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{let e=o.viewport;if(e){let t=()=>{f(),u.current||(u.current=az(e,s),s())};return s(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[o.viewport,f,s]),(0,l.jsx)(ed.sG.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:(0,ei.m)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;i.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,ei.m)(e.onPointerUp,i.onThumbPointerUp)})});aD.displayName=aA;var aO="ScrollAreaCorner",aI=c.forwardRef((e,t)=>{let r=av(aO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?(0,l.jsx)(a_,{...e,ref:t}):null});aI.displayName=aO;var a_=c.forwardRef((e,t)=>{let{__scopeScrollArea:r,...n}=e,a=av(aO,r),[o,i]=c.useState(0),[s,d]=c.useState(0),u=!!(o&&s);return aq(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),d(e)}),aq(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),i(e)}),u?(0,l.jsx)(ed.sG.div,{...n,ref:t,style:{width:o,height:s,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function aF(e){return e?parseInt(e,10):0}function aB(e,t){let r=e/t;return isNaN(r)?0:r}function aW(e){let t=aB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function aG(e,t,r="ltr"){let n=aW(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,s=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,i]:[-1*i,0]);return aH([0,i],[0,o-n])(s)}function aH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var az=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return!function a(){let o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,s=r.top!==o.top;(i||s)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function aV(e,t){let r=(0,ep.c)(e),n=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),c.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function aq(e,t){let r=(0,ep.c)(t);(0,tz.N)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}let a$=c.forwardRef(({className:e,children:t,...r},n)=>(0,l.jsxs)(ax,{ref:n,className:(0,M.cn)("relative overflow-hidden",e),...r,children:[(0,l.jsx)(aw,{className:"h-full w-full rounded-[inherit]",children:t}),(0,l.jsx)(aK,{}),(0,l.jsx)(aI,{})]}));a$.displayName=ax.displayName;let aK=c.forwardRef(({className:e,orientation:t="vertical",...r},n)=>(0,l.jsx)(aj,{ref:n,orientation:t,className:(0,M.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:(0,l.jsx)(aD,{className:"relative flex-1 rounded-full bg-border"})}));aK.displayName=aj.displayName;var aU=r(85726);let aY=(0,j.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var aX=r(32584),aZ=r(85814),aJ=r.n(aZ);let aQ=({game:e})=>{let t=Math.max(...e.players.map(e=>e.totalScore)),r=e.players.filter(e=>e.totalScore===t),n=r.map(e=>e.name).join(" & ");return(0,l.jsxs)(S.Zp,{className:"shadow-sm flex flex-col",children:[(0,l.jsxs)(S.aR,{children:[e.hostId&&(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-sm text-muted-foreground",children:[(0,l.jsxs)(aX.eu,{className:"h-6 w-6",children:[(0,l.jsx)(aX.BK,{src:e.hostPhotoURL??""}),(0,l.jsx)(aX.q5,{children:(0,l.jsx)(aY,{className:"w-4 h-4"})})]}),"Hosted by ",(0,l.jsx)(aJ(),{href:`/profile/${e.hostId}`,className:"font-medium text-foreground hover:underline",children:e.hostName||"Anonymous"})]}),(0,l.jsx)(S.ZB,{className:"text-xl",children:e.tag||"Game"}),(0,l.jsx)(S.BT,{children:new Date(e.finishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,l.jsxs)(S.Wu,{className:"flex-grow",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-2 bg-secondary rounded-md",children:[(0,l.jsx)(E,{className:"w-5 h-5 text-amber-500"}),(0,l.jsxs)("p",{className:"font-semibold",children:[r.length>1?"Winners: ":"Winner: ",n," (",t," pts)"]})]}),(0,l.jsx)("ul",{className:"text-sm text-muted-foreground space-y-2",children:e.players.map(e=>(0,l.jsxs)("li",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{children:e.name}),(0,l.jsx)("span",{className:"font-medium text-foreground",children:e.totalScore})]},e.id))})]})]})};function a0(){let[e,t]=(0,c.useState)([]),[r,n]=(0,c.useState)(!0);return r?(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Game History"}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,l.jsx)(aU.E,{className:"h-56 w-full rounded-lg"}),(0,l.jsx)(aU.E,{className:"h-56 w-full rounded-lg"}),(0,l.jsx)(aU.E,{className:"h-56 w-full rounded-lg"})]})]}):0===e.length?(0,l.jsxs)("div",{className:"text-center py-16 bg-secondary/50 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold",children:"No Public Games"}),(0,l.jsx)("p",{className:"text-muted-foreground mt-2",children:"Log in and complete a game to see its results here."})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Game History"}),(0,l.jsx)(a$,{className:"h-[calc(100vh-25rem)] pr-4",children:(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,l.jsx)(aQ,{game:e},e.id))})})]})}var a1=c.forwardRef((e,t)=>(0,l.jsx)(ed.sG.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));a1.displayName="VisuallyHidden";var a2="ToastProvider",[a5,a4,a3]=(0,eu.N)("Toast"),[a6,a8]=(0,el.A)("Toast",[a3]),[a7,a9]=a6(a2),oe=e=>{let{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[s,d]=c.useState(null),[u,f]=c.useState(0),p=c.useRef(!1),h=c.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${a2}\`. Expected non-empty \`string\`.`),(0,l.jsx)(a5.Provider,{scope:t,children:(0,l.jsx)(a7,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:d,onToastAdd:c.useCallback(()=>f(e=>e+1),[]),onToastRemove:c.useCallback(()=>f(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:i})})};oe.displayName=a2;var ot="ToastViewport",or=["F8"],on="toast.viewportPause",oa="toast.viewportResume",oo=c.forwardRef((e,t)=>{let{__scopeToast:r,hotkey:n=or,label:a="Notifications ({hotkey})",...o}=e,i=a9(ot,r),s=a4(r),d=c.useRef(null),u=c.useRef(null),f=c.useRef(null),p=c.useRef(null),h=(0,es.s)(t,p,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;c.useEffect(()=>{let e=e=>{0!==n.length&&n.every(t=>e[t]||e.code===t)&&p.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),c.useEffect(()=>{let e=d.current,t=p.current;if(g&&e&&t){let r=()=>{if(!i.isClosePausedRef.current){let e=new CustomEvent(on);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},n=()=>{if(i.isClosePausedRef.current){let e=new CustomEvent(oa);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},a=t=>{e.contains(t.relatedTarget)||n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[g,i.isClosePausedRef]);let v=c.useCallback(({tabbingDirection:e})=>{let t=s().map(t=>{let r=t.ref.current,n=[r,...function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[s]);return c.useEffect(()=>{let e=p.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){let r=document.activeElement,n=t.shiftKey;if(t.target===e&&n)return void u.current?.focus();let a=v({tabbingDirection:n?"backwards":"forwards"}),o=a.findIndex(e=>e===r);oN(a.slice(o+1))?t.preventDefault():n?u.current?.focus():f.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[s,v]),(0,l.jsxs)(ev,{ref:d,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&(0,l.jsx)(os,{ref:u,onFocusFromOutsideViewport:()=>{oN(v({tabbingDirection:"forwards"}))}}),(0,l.jsx)(a5.Slot,{scope:r,children:(0,l.jsx)(ed.sG.ol,{tabIndex:-1,...o,ref:h})}),g&&(0,l.jsx)(os,{ref:f,onFocusFromOutsideViewport:()=>{oN(v({tabbingDirection:"backwards"}))}})]})});oo.displayName=ot;var oi="ToastFocusProxy",os=c.forwardRef((e,t)=>{let{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=a9(oi,r);return(0,l.jsx)(a1,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{let t=e.relatedTarget;o.viewport?.contains(t)||n()}})});os.displayName=oi;var ol="Toast",oc=c.forwardRef((e,t)=>{let{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[s=!0,c]=(0,ec.i)({prop:n,defaultProp:a,onChange:o});return(0,l.jsx)(t9.C,{present:r||s,children:(0,l.jsx)(of,{open:s,...i,ref:t,onClose:()=>c(!1),onPause:(0,ep.c)(e.onPause),onResume:(0,ep.c)(e.onResume),onSwipeStart:(0,ei.m)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,ei.m)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:(0,ei.m)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,ei.m)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),c(!1)})})})});oc.displayName=ol;var[od,ou]=a6(ol,{onClose(){}}),of=c.forwardRef((e,t)=>{let{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:s,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:m,...g}=e,v=a9(ol,r),[x,y]=c.useState(null),w=(0,es.s)(t,e=>y(e)),b=c.useRef(null),j=c.useRef(null),N=a||v.duration,E=c.useRef(0),C=c.useRef(N),R=c.useRef(0),{onToastAdd:S,onToastRemove:k}=v,T=(0,ep.c)(()=>{x?.contains(document.activeElement)&&v.viewport?.focus(),i()}),P=c.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(R.current),E.current=new Date().getTime(),R.current=window.setTimeout(T,e))},[T]);c.useEffect(()=>{let e=v.viewport;if(e){let t=()=>{P(C.current),u?.()},r=()=>{let e=new Date().getTime()-E.current;C.current=C.current-e,window.clearTimeout(R.current),d?.()};return e.addEventListener(on,r),e.addEventListener(oa,t),()=>{e.removeEventListener(on,r),e.removeEventListener(oa,t)}}},[v.viewport,N,d,u,P]),c.useEffect(()=>{o&&!v.isClosePausedRef.current&&P(N)},[o,N,v.isClosePausedRef,P]),c.useEffect(()=>(S(),()=>k()),[S,k]);let M=c.useMemo(()=>x?function e(t){let r=[];return Array.from(t.childNodes).forEach(t=>{var n;if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),(n=t).nodeType===n.ELEMENT_NODE){let n=t.ariaHidden||t.hidden||"none"===t.style.display,a=""===t.dataset.radixToastAnnounceExclude;if(!n)if(a){let e=t.dataset.radixToastAnnounceAlt;e&&r.push(e)}else r.push(...e(t))}}),r}(x):null,[x]);return v.viewport?(0,l.jsxs)(l.Fragment,{children:[M&&(0,l.jsx)(op,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:M}),(0,l.jsx)(od,{scope:r,onClose:T,children:tk.createPortal((0,l.jsx)(a5.ItemSlot,{scope:r,children:(0,l.jsx)(eg,{asChild:!0,onEscapeKeyDown:(0,ei.m)(s,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,l.jsx)(ed.sG.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,ei.m)(e.onKeyDown,e=>{"Escape"===e.key&&(s?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:(0,ei.m)(e.onPointerDown,e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,ei.m)(e.onPointerMove,e=>{if(!b.current)return;let t=e.clientX-b.current.x,r=e.clientY-b.current.y,n=!!j.current,a=["left","right"].includes(v.swipeDirection),o=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,i=a?o(0,t):0,s=a?0:o(0,r),l="touch"===e.pointerType?10:2,c={x:i,y:s},d={originalEvent:e,delta:c};n?(j.current=c,ob("toast.swipeMove",p,d,{discrete:!1})):oj(c,v.swipeDirection,l)?(j.current=c,ob("toast.swipeStart",f,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(b.current=null)}),onPointerUp:(0,ei.m)(e.onPointerUp,e=>{let t=j.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),j.current=null,b.current=null,t){let r=e.currentTarget,n={originalEvent:e,delta:t};oj(t,v.swipeDirection,v.swipeThreshold)?ob("toast.swipeEnd",m,n,{discrete:!0}):ob("toast.swipeCancel",h,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),op=e=>{let{__scopeToast:t,children:r,...n}=e,a=a9(ol,t),[o,i]=c.useState(!1),[s,d]=c.useState(!1);return function(e=()=>{}){let t=(0,ep.c)(e);(0,tz.N)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>i(!0)),c.useEffect(()=>{let e=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(e)},[]),s?null:(0,l.jsx)(t7,{asChild:!0,children:(0,l.jsx)(a1,{...n,children:o&&(0,l.jsxs)(l.Fragment,{children:[a.label," ",r]})})})},oh=c.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,l.jsx)(ed.sG.div,{...n,ref:t})});oh.displayName="ToastTitle";var om=c.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,l.jsx)(ed.sG.div,{...n,ref:t})});om.displayName="ToastDescription";var og="ToastAction",ov=c.forwardRef((e,t)=>{let{altText:r,...n}=e;return r.trim()?(0,l.jsx)(ow,{altText:r,asChild:!0,children:(0,l.jsx)(oy,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${og}\`. Expected non-empty \`string\`.`),null)});ov.displayName=og;var ox="ToastClose",oy=c.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e,a=ou(ox,r);return(0,l.jsx)(ow,{asChild:!0,children:(0,l.jsx)(ed.sG.button,{type:"button",...n,ref:t,onClick:(0,ei.m)(e.onClick,a.onClose)})})});oy.displayName=ox;var ow=c.forwardRef((e,t)=>{let{__scopeToast:r,altText:n,...a}=e;return(0,l.jsx)(ed.sG.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function ob(e,t,r,{discrete:n}){let a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?(0,ed.hO)(a,o):a.dispatchEvent(o)}var oj=(e,t,r=0)=>{let n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return"left"===t||"right"===t?o&&n>r:!o&&a>r};function oN(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var oE=r(24224);let oC=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(oo,{ref:r,className:(0,M.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oC.displayName=oo.displayName;let oR=(0,oE.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oS=c.forwardRef(({className:e,variant:t,...r},n)=>(0,l.jsx)(oc,{ref:n,className:(0,M.cn)(oR({variant:t}),e),...r}));oS.displayName=oc.displayName,c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(ov,{ref:r,className:(0,M.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=ov.displayName;let ok=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(oy,{ref:r,className:(0,M.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,l.jsx)(T.A,{className:"h-4 w-4"})}));ok.displayName=oy.displayName;let oT=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(oh,{ref:r,className:(0,M.cn)("text-sm font-semibold",e),...t}));oT.displayName=oh.displayName;let oP=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(om,{ref:r,className:(0,M.cn)("text-sm opacity-90",e),...t}));function oM(){let{toasts:e}=(0,C.dj)();return(0,l.jsxs)(oe,{children:[e.map(function({id:e,title:t,description:r,action:n,...a}){return(0,l.jsxs)(oS,{...a,children:[(0,l.jsxs)("div",{className:"grid gap-1",children:[t&&(0,l.jsx)(oT,{children:t}),r&&(0,l.jsx)(oP,{children:r})]}),n,(0,l.jsx)(ok,{})]},e)}),(0,l.jsx)(oC,{})]})}oP.displayName=om.displayName;var oA=r(11516);let oD=(0,j.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var oL=r(14283);let oO=(0,j.A)("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);var oI=c.forwardRef((e,t)=>{let{children:r,...n}=e,a=c.Children.toArray(r),o=a.find(oB);if(o){let e=o.props.children,r=a.map(t=>t!==o?t:c.Children.count(e)>1?c.Children.only(null):c.isValidElement(e)?e.props.children:null);return(0,l.jsx)(o_,{...n,ref:t,children:c.isValidElement(e)?c.cloneElement(e,void 0,r):null})}return(0,l.jsx)(o_,{...n,ref:t,children:r})});oI.displayName="Slot";var o_=c.forwardRef((e,t)=>{let{children:r,...n}=e;if(c.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),a=function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{o(...e),a(...e)}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==c.Fragment&&(a.ref=t?(0,es.t)(t,e):e),c.cloneElement(r,a)}return c.Children.count(r)>1?c.Children.only(null):null});o_.displayName="SlotClone";var oF=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function oB(e){return c.isValidElement(e)&&e.type===oF}var oW="Dialog",[oG,oH]=(0,el.A)(oW),[oz,oV]=oG(oW),oq=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,s=c.useRef(null),d=c.useRef(null),[u=!1,f]=(0,ec.i)({prop:n,defaultProp:a,onChange:o});return(0,l.jsx)(oz,{scope:t,triggerRef:s,contentRef:d,contentId:(0,eA.B)(),titleId:(0,eA.B)(),descriptionId:(0,eA.B)(),open:u,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(e=>!e),[f]),modal:i,children:r})};oq.displayName=oW;var o$="DialogTrigger",oK=c.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=oV(o$,r),o=(0,es.s)(t,a.triggerRef);return(0,l.jsx)(ed.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ir(a.open),...n,ref:o,onClick:(0,ei.m)(e.onClick,a.onOpenToggle)})});oK.displayName=o$;var oU="DialogPortal",[oY,oX]=oG(oU,{forceMount:void 0}),oZ=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=oV(oU,t);return(0,l.jsx)(oY,{scope:t,forceMount:r,children:c.Children.map(n,e=>(0,l.jsx)(t9.C,{present:r||o.open,children:(0,l.jsx)(t7,{asChild:!0,container:a,children:e})}))})};oZ.displayName=oU;var oJ="DialogOverlay",oQ=c.forwardRef((e,t)=>{let r=oX(oJ,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=oV(oJ,e.__scopeDialog);return o.modal?(0,l.jsx)(t9.C,{present:n||o.open,children:(0,l.jsx)(o0,{...a,ref:t})}):null});oQ.displayName=oJ;var o0=c.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=oV(oJ,r);return(0,l.jsx)(rZ,{as:oI,allowPinchZoom:!0,shards:[a.contentRef],children:(0,l.jsx)(ed.sG.div,{"data-state":ir(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),o1="DialogContent",o2=c.forwardRef((e,t)=>{let r=oX(o1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=oV(o1,e.__scopeDialog);return(0,l.jsx)(t9.C,{present:n||o.open,children:o.modal?(0,l.jsx)(o5,{...a,ref:t}):(0,l.jsx)(o4,{...a,ref:t})})});o2.displayName=o1;var o5=c.forwardRef((e,t)=>{let r=oV(o1,e.__scopeDialog),n=c.useRef(null),a=(0,es.s)(t,r.contentRef,n);return c.useEffect(()=>{let e=n.current;if(e)return rf(e)},[]),(0,l.jsx)(o3,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ei.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,ei.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,ei.m)(e.onFocusOutside,e=>e.preventDefault())})}),o4=c.forwardRef((e,t)=>{let r=oV(o1,e.__scopeDialog),n=c.useRef(!1),a=c.useRef(!1);return(0,l.jsx)(o3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let o=t.target;r.triggerRef.current?.contains(o)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),o3=c.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,s=oV(o1,r),d=c.useRef(null),u=(0,es.s)(t,d);return eb(),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eR,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,l.jsx)(eg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":ir(s.open),...i,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(is,{titleId:s.titleId}),(0,l.jsx)(il,{contentRef:d,descriptionId:s.descriptionId})]})]})}),o6="DialogTitle",o8=c.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=oV(o6,r);return(0,l.jsx)(ed.sG.h2,{id:a.titleId,...n,ref:t})});o8.displayName=o6;var o7="DialogDescription",o9=c.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=oV(o7,r);return(0,l.jsx)(ed.sG.p,{id:a.descriptionId,...n,ref:t})});o9.displayName=o7;var ie="DialogClose",it=c.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=oV(ie,r);return(0,l.jsx)(ed.sG.button,{type:"button",...n,ref:t,onClick:(0,ei.m)(e.onClick,()=>a.onOpenChange(!1))})});function ir(e){return e?"open":"closed"}it.displayName=ie;var ia="DialogTitleWarning",[io,ii]=(0,el.q)(ia,{contentName:o1,titleName:o6,docsSlug:"dialog"}),is=({titleId:e})=>{let t=ii(ia),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},il=({contentRef:e,descriptionId:t})=>{let r=ii("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return c.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};let ic=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(oQ,{ref:r,className:(0,M.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ic.displayName=oQ.displayName;let id=c.forwardRef(({className:e,children:t,...r},n)=>(0,l.jsxs)(oZ,{children:[(0,l.jsx)(ic,{}),(0,l.jsxs)(o2,{ref:n,className:(0,M.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,l.jsxs)(it,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(T.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));id.displayName=o2.displayName;let iu=({className:e,...t})=>(0,l.jsx)("div",{className:(0,M.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});iu.displayName="DialogHeader";let ip=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(o8,{ref:r,className:(0,M.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));ip.displayName=o8.displayName;let ih=c.forwardRef(({className:e,...t},r)=>(0,l.jsx)(o9,{ref:r,className:(0,M.cn)("text-sm text-muted-foreground",e),...t}));ih.displayName=o9.displayName;let im=(0,j.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function ig(){var e;let{user:t,logout:r}=(0,x.A)();return t?(0,l.jsxs)(n0,{children:[(0,l.jsx)(n2,{asChild:!0,children:(0,l.jsx)(y.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,l.jsxs)(aX.eu,{className:"h-9 w-9",children:[(0,l.jsx)(aX.BK,{src:t.photoURL??"",alt:t.displayName??""}),(0,l.jsx)(aX.q5,{children:(e=t.displayName)?e.split(" ").map(e=>e[0]).join("").toUpperCase():"U"})]})})}),(0,l.jsxs)(as,{className:"w-56",align:"end",forceMount:!0,children:[(0,l.jsx)(ac,{className:"font-normal",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium leading-none",children:t.displayName}),(0,l.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),(0,l.jsx)(ad,{}),(0,l.jsx)(n6,{children:(0,l.jsx)(aJ(),{href:`/profile/${t.uid}`,children:(0,l.jsxs)(al,{children:[(0,l.jsx)(aY,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Profile"})]})})}),(0,l.jsx)(ad,{}),(0,l.jsxs)(al,{onClick:r,children:[(0,l.jsx)(im,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Log out"})]})]})]}):null}let iv=(0,j.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);function ix(){return(0,l.jsx)(aJ(),{href:"/login",passHref:!0,children:(0,l.jsxs)(y.$,{children:[(0,l.jsx)(iv,{className:"mr-2 h-4 w-4"}),"Login"]})})}var iy=r(16189),iw=r(74742);function ib(){let{gameState:e,...t}=v(),{user:r,loading:n,signInAsGuest:a}=(0,x.A)(),[o,i]=(0,c.useState)(!1),[s,d]=(0,c.useState)(!1),u=(0,iy.useRouter)(),{toast:f}=(0,C.dj)(),[p,h]=(0,c.useState)(!1),m=async()=>{h(!0);try{let e=r;e||(e=await a());let t=await (0,iw.do)(e);u.push(`/online/game/${t}`)}catch(e){console.error(e),f({title:"Error",description:"Could not create bot game.",variant:"destructive"})}finally{h(!1)}};return!o||n?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-primary",children:[(0,l.jsx)(oA.A,{className:"w-16 h-16 mb-4 animate-spin"}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Loading BridgeScore..."})]}):(0,l.jsxs)("main",{className:"min-h-screen bg-background text-foreground font-body",children:[(0,l.jsx)("div",{className:"container mx-auto p-4 md:p-8",children:e.isGameActive?(0,l.jsx)(af,{gameState:e,...t}):(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 border-b pb-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(k,{className:"w-8 h-8 text-primary"}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"BridgeScore"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(oq,{open:s,onOpenChange:d,children:[(0,l.jsx)(oK,{asChild:!0,children:(0,l.jsxs)(y.$,{size:"lg",variant:"outline",children:[(0,l.jsx)(oD,{className:"mr-2 h-5 w-5"}),"New Offline Game"]})}),(0,l.jsxs)(id,{className:"sm:max-w-[425px]",children:[(0,l.jsxs)(iu,{children:[(0,l.jsx)(ip,{className:"flex items-center gap-2 text-2xl",children:"Set Up Offline Game"}),(0,l.jsx)(ih,{children:r?"Your game will be saved to your profile upon completion.":"Log in to save your game history."})]}),(0,l.jsx)(R,{startGame:(e,n,a)=>{r?t.startGame(e,n,a,r.uid,r.displayName,r.photoURL):t.startGame(e,n,a),d(!1)}})]})]}),(0,l.jsxs)(y.$,{size:"lg",variant:"outline",onClick:m,disabled:p,children:[p?(0,l.jsx)(oA.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,l.jsx)(oL.A,{className:"mr-2 h-5 w-5"}),"Play with Bots"]}),(0,l.jsx)(aJ(),{href:"/online",children:(0,l.jsxs)(y.$,{size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:[(0,l.jsx)(oO,{className:"mr-2 h-5 w-5"}),"Play Online"]})}),(0,l.jsx)(au,{}),r?(0,l.jsx)(ig,{}):(0,l.jsx)(ix,{})]})]}),(0,l.jsx)(a0,{})]})}),(0,l.jsx)(oM,{})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/page.tsx","default")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29633:e=>{"use strict";var t={linear:function(e,t,r,n){return(r-t)*e/n+t},easeInQuad:function(e,t,r,n){return(r-t)*(e/=n)*e+t},easeOutQuad:function(e,t,r,n){return-(r-t)*(e/=n)*(e-2)+t},easeInOutQuad:function(e,t,r,n){var a=r-t;return(e/=n/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,r,n){return(r-t)*(e/=n)*e*e+t},easeOutCubic:function(e,t,r,n){return(r-t)*((e=e/n-1)*e*e+1)+t},easeInOutCubic:function(e,t,r,n){var a=r-t;return(e/=n/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,r,n){return(r-t)*(e/=n)*e*e*e+t},easeOutQuart:function(e,t,r,n){return-(r-t)*((e=e/n-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,r,n){var a=r-t;return(e/=n/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,r,n){return(r-t)*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,r,n){return(r-t)*((e=e/n-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,r,n){var a=r-t;return(e/=n/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,r,n){var a=r-t;return-a*Math.cos(e/n*(Math.PI/2))+a+t},easeOutSine:function(e,t,r,n){return(r-t)*Math.sin(e/n*(Math.PI/2))+t},easeInOutSine:function(e,t,r,n){return-(r-t)/2*(Math.cos(Math.PI*e/n)-1)+t},easeInExpo:function(e,t,r,n){return 0==e?t:(r-t)*Math.pow(2,10*(e/n-1))+t},easeOutExpo:function(e,t,r,n){var a=r-t;return e==n?t+a:a*(-Math.pow(2,-10*e/n)+1)+t},easeInOutExpo:function(e,t,r,n){var a=r-t;return 0===e?t:e===n?t+a:(e/=n/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,r,n){return-(r-t)*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,r,n){return(r-t)*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOutCirc:function(e,t,r,n){var a=r-t;return(e/=n/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,r,n){var a,o,i,s=r-t;return(i=1.70158,o=0,a=s,0===e)?t:1==(e/=n)?t+s:(o||(o=.3*n),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e*n-i)/o))+t)},easeOutElastic:function(e,t,r,n){var a,o,i,s=r-t;return(i=1.70158,o=0,a=s,0===e)?t:1==(e/=n)?t+s:(o||(o=.3*n),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e*n-i)/o)+s+t)},easeInOutElastic:function(e,t,r,n){var a,o,i,s=r-t;return(i=1.70158,o=0,a=s,0===e)?t:2==(e/=n/2)?t+s:(o||(o=.3*1.5*n),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),e<1)?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e*n-i)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin(2*Math.PI*(e*n-i)/o)*.5+s+t},easeInBack:function(e,t,r,n,a){return void 0===a&&(a=1.70158),(r-t)*(e/=n)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,r,n,a){return void 0===a&&(a=1.70158),(r-t)*((e=e/n-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,r,n,a){var o=r-t;return(void 0===a&&(a=1.70158),(e/=n/2)<1)?o/2*(e*e*(((a*=1.525)+1)*e-a))+t:o/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,r,n,a){var o,i=n-r;return o=t.easeOutBounce(a-e,0,i,a),i-o+r},easeOutBounce:function(e,t,r,n){var a=r-t;return(e/=n)<1/2.75?7.5625*e*e*a+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,r,n,a){var o,i=n-r;return e<a/2?.5*t.easeInBounce(2*e,0,i,a)+r:.5*t.easeOutBounce(2*e-a,0,i,a)+.5*i+r}};e.exports=t},32584:(e,t,r)=>{"use strict";r.d(t,{BK:()=>l,eu:()=>s,q5:()=>c});var n=r(60687),a=r(43210),o=r(92951),i=r(4780);let s=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(o.bL,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));s.displayName=o.bL.displayName;let l=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(o._V,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",e),...t}));l.displayName=o._V.displayName;let c=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(o.H4,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));c.displayName=o.H4.displayName},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},55511:e=>{"use strict";e.exports=require("crypto")},57521:(e,t,r)=>{Promise.resolve().then(r.bind(r,18882))},58450:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67249:(e,t,r)=>{Promise.resolve().then(r.bind(r,21204))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},74742:(e,t,r)=>{"use strict";r.d(t,{JV:()=>s,bD:()=>p,do:()=>l,fC:()=>u,iY:()=>c,z5:()=>f});var n=r(33784),a=r(75535);let o=()=>{let e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],t=[],r={spades:4,hearts:3,diamonds:2,clubs:1};return["spades","hearts","diamonds","clubs"].forEach(n=>{e.forEach((e,a)=>{t.push({suit:n,rank:e,value:a+2,suitValue:r[n]})})}),t},i=e=>{for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e};async function s(e,t){let r=(0,a.H9)((0,a.rJ)(n.db,"games")),o={uid:e.uid,name:e.displayName||"Anonymous",photoURL:e.photoURL,isBot:!1,seat:0,score:0,tricksWon:0},i={id:r.id,hostId:e.uid,status:"waiting",players:[o],settings:{isPrivate:t,winningScore:50},currentRound:1,currentTrick:1,currentTurnSeat:0,trickSuit:null,cardsOnTable:[],calls:{}};if(await (0,a.BN)(r,i),!t){let e=(0,a.H9)(n.db,"lobby",r.id);await (0,a.BN)(e,{gameId:r.id,playerCount:1})}return r.id}async function l(e){let t=(0,a.H9)((0,a.rJ)(n.db,"games")),r=(0,a.wP)(n.db),s=[{uid:e.uid,name:e.displayName||`Guest ${Math.floor(1e3*Math.random())}`,photoURL:e.photoURL,isBot:!1,seat:0,score:0,tricksWon:0},{uid:"bot-1",name:"Bot Alpha",photoURL:null,isBot:!0,seat:1,score:0,tricksWon:0},{uid:"bot-2",name:"Bot Bravo",photoURL:null,isBot:!0,seat:2,score:0,tricksWon:0},{uid:"bot-3",name:"Bot Charlie",photoURL:null,isBot:!0,seat:3,score:0,tricksWon:0}],l=i(o()),c={};s.forEach(e=>{c[e.uid]=[]});for(let e=0;e<52;e++){let t=e%4;c[s.find(e=>e.seat===t).uid].push(l[e])}for(let e of s){let o=(0,a.H9)(n.db,"games",t.id,"private",e.uid),i=c[e.uid].sort((e,t)=>e.suitValue!==t.suitValue?t.suitValue-e.suitValue:t.value-e.value);r.set(o,{hand:i})}let d={id:t.id,hostId:e.uid,status:"playing",players:s,settings:{isPrivate:!0,winningScore:50},currentRound:1,currentTrick:1,currentTurnSeat:0,trickSuit:null,cardsOnTable:[],calls:{}};return r.set(t,d),await r.commit(),t.id}async function c(e){let t=(0,a.P)((0,a.rJ)(n.db,"lobby"),(0,a._M)("playerCount","<",4),(0,a.AB)(1)),r=await (0,a.GG)(t);if(r.empty)return s(e,!1);{let t=r.docs[0].id;return await d(t,e),t}}async function d(e,t){let r=(0,a.H9)(n.db,"games",e);try{await (0,a.c4)(n.db,async o=>{let i=await o.get(r);if(!i.exists())throw Error("Game not found!");let s=i.data();if(s.players.some(e=>e.uid===t.uid))return;if(s.players.length>=4)throw Error("Game is full!");if("waiting"!==s.status)throw Error("Game has already started!");let l={uid:t.uid,name:t.displayName||"Anonymous",photoURL:t.photoURL,isBot:!1,seat:s.players.length,score:0,tricksWon:0};if(o.update(r,{players:(0,a.hq)(l)}),!s.settings.isPrivate){let t=(0,a.H9)(n.db,"lobby",e);o.update(t,{playerCount:s.players.length+1})}})}catch(e){throw console.error("Failed to join game:",e),e}}async function u(e,t){let r=(0,a.H9)(n.db,"games",e),s=await (0,a.x7)(r);if(!s.exists())throw Error("Game not found");let l=s.data();if(l.hostId!==t)throw Error("Only the host can start the game.");if(4!==l.players.length)throw Error("Need 4 players to start.");if("waiting"!==l.status)throw Error("Game has already started.");let c=i(o()),d={};l.players.forEach(e=>{d[e.uid]=[]});for(let e=0;e<52;e++){let t=e%4;d[l.players.find(e=>e.seat===t).uid].push(c[e])}let u=(0,a.wP)(n.db);for(let t of l.players){let r=(0,a.H9)(n.db,"games",e,"private",t.uid),o=d[t.uid].sort((e,t)=>e.suitValue!==t.suitValue?t.suitValue-e.suitValue:t.value-e.value);u.set(r,{hand:o})}if(u.update(r,{status:"playing",currentTurnSeat:0}),!l.settings.isPrivate){let t=(0,a.H9)(n.db,"lobby",e);u.delete(t)}await u.commit()}async function f(e,t,r){let o=(0,a.H9)(n.db,"games",e),i=(0,a.H9)(n.db,"games",e,"private",t);await (0,a.c4)(n.db,async e=>{let n=await e.get(o),a=await e.get(i);if(!n.exists()||!a.exists())throw Error("Game or player hand not found.");let s=n.data(),l=s.players.find(e=>e.uid===t),c=a.data()?.hand;if(!l)throw Error("Player not found in this game.");if("playing"!==s.status)throw Error("Not in playing phase.");if(s.currentTurnSeat!==l.seat)throw Error("Not your turn.");if(!c.some(e=>e.rank===r.rank&&e.suit===r.suit))throw Error("Card not in hand.");if(s.trickSuit&&c.some(e=>e.suit===s.trickSuit)&&r.suit!==s.trickSuit)throw Error("Must follow suit if you can.");let d=c.filter(e=>e.rank!==r.rank||e.suit!==r.suit);e.update(i,{hand:d});let u={seat:l.seat,card:r},f=[...s.cardsOnTable,u],p={cardsOnTable:f,currentTurnSeat:(s.currentTurnSeat+1)%4,trickSuit:s.trickSuit||r.suit};if(4===f.length){let e,t=f.filter(e=>"spades"===e.card.suit);e=t.length>0?t.sort((e,t)=>t.card.value-e.card.value)[0]:f.filter(e=>e.card.suit===p.trickSuit).sort((e,t)=>t.card.value-e.card.value)[0];let r=s.players.find(t=>t.seat===e.seat);p.status="trick_scoring",p.lastTrickWinnerSeat=r.seat,p.currentTurnSeat=r.seat,p.players=s.players.map(e=>e.uid===r.uid?{...e,tricksWon:e.tricksWon+1}:e)}e.update(o,p)})}async function p(e){let t=(0,a.H9)(n.db,"games",e);await (0,a.c4)(n.db,async e=>{let r=await e.get(t);if(!r.exists())throw Error("Game not found.");let n=r.data();if("trick_scoring"!==n.status)return;let a={status:"playing",cardsOnTable:[],trickSuit:null,currentTrick:n.currentTrick+1};a.currentTrick>13&&(a.status="round_scoring"),e.update(t,a)})}},78726:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(60687),a=r(43210),o=r(78148),i=r(24224),s=r(4780);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(o.b,{ref:r,className:(0,s.cn)(l(),e),...t}));c.displayName=o.b.displayName},81630:e=>{"use strict";e.exports=require("http")},85726:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(60687),a=r(4780);function o({className:e,...t}){return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}},89667:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(60687),a=r(43210),o=r(4780);let i=a.forwardRef(({className:e,type:t,...r},a)=>(0,n.jsx)("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));i.displayName="Input"},90462:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c});var n=r(65239),a=r(48088),o=r(88170),i=r.n(o),s=r(30893),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let c={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21204)),"/home/user/studio/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/user/studio/src/app/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,803,95,535,761,776],()=>r(90462));module.exports=n})();