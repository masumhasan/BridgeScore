(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{172:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(5155),i=s(2115),l=s(9434);let n=i.forwardRef((e,a)=>{let{className:s,type:i,...n}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},3503:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(157).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},9017:(e,a,s)=>{Promise.resolve().then(s.bind(s,9867))},9867:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>j});var t=s(5155),i=s(2115),l=s(5695),n=s(9576),r=s(285),c=s(2523),d=s(6695),o=s(172),u=s(157);let m=(0,u.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h=(0,u.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var x=s(3503);let p=(0,u.A)("VenetianMask",[["path",{d:"M18 11c-1.5 0-2.5.5-3 2",key:"1fod00"}],["path",{d:"M4 6a2 2 0 0 0-2 2v4a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V8a2 2 0 0 0-2-2h-3a8 8 0 0 0-5 2 8 8 0 0 0-5-2z",key:"d70hit"}],["path",{d:"M6 11c1.5 0 2.5.5 3 2",key:"136fht"}]]);var f=s(7481),g=s(2250);function j(){let{user:e,loading:a}=(0,n.A)(),s=(0,l.useRouter)(),{toast:u}=(0,f.dj)(),[j,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(null),N=async a=>{if(!e)return void u({title:"Please log in",description:"You must be logged in to create an online game.",variant:"destructive"});b("create");try{let t=await (0,g.JV)(e,a);s.push("/online/game/".concat(t))}catch(e){console.error(e),u({title:"Error",description:"Could not create game.",variant:"destructive"}),b(null)}},w=async()=>{if(!e)return void u({title:"Please log in",description:"You must be logged in to create a game.",variant:"destructive"});b("bots");try{let a=await (0,g.do)(e);s.push("/online/game/".concat(a))}catch(e){console.error(e),u({title:"Error",description:"Could not create bot game.",variant:"destructive"}),b(null)}},k=async()=>{if(!e)return void u({title:"Please log in",description:"You must be logged in to join a game.",variant:"destructive"});b("public");try{let a=await (0,g.iY)(e);s.push("/online/game/".concat(a))}catch(e){console.error(e),u({title:"Error",description:"Could not find a public game. Why not create one?",variant:"destructive"}),b(null)}};return a?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsx)(o.A,{className:"h-12 w-12 animate-spin"})}):e?(0,t.jsx)("main",{className:"min-h-screen bg-background p-4 sm:p-8 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"Play Online"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Join a game or create your own."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Create a Game"}),(0,t.jsx)(d.BT,{children:"Start a new game with friends or play against bots."})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)(r.$,{className:"w-full",onClick:()=>N(!0),disabled:!!y,children:["create"===y?(0,t.jsx)(o.A,{className:"animate-spin"}):(0,t.jsx)(m,{}),"Create Private Game"]}),(0,t.jsxs)(r.$,{className:"w-full",variant:"secondary",onClick:()=>N(!1),disabled:!!y,children:["create"===y?(0,t.jsx)(o.A,{className:"animate-spin"}):(0,t.jsx)(h,{}),"Create Public Game"]}),(0,t.jsxs)(r.$,{className:"w-full",variant:"outline",onClick:w,disabled:!!y,children:["bots"===y?(0,t.jsx)(o.A,{className:"animate-spin"}):(0,t.jsx)(x.A,{}),"Play with Bots"]})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Join a Game"}),(0,t.jsx)(d.BT,{children:"Get in on the action."})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!j.trim())return void u({title:"Invalid Code",description:"Please enter a game code.",variant:"destructive"});b("join"),s.push("/online/game/".concat(j.trim()))},className:"space-y-2",children:[(0,t.jsx)(c.p,{placeholder:"Enter game code...",value:j,onChange:e=>v(e.target.value),disabled:!!y}),(0,t.jsxs)(r.$,{type:"submit",className:"w-full",variant:"secondary",disabled:!!y,children:["join"===y?(0,t.jsx)(o.A,{className:"animate-spin"}):null,"Join with Code"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),(0,t.jsxs)(r.$,{className:"w-full",variant:"outline",onClick:k,disabled:!!y,children:["public"===y?(0,t.jsx)(o.A,{className:"animate-spin"}):(0,t.jsx)(p,{}),"Find a Public Game"]})]})]})]})]})}):(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsxs)(d.Zp,{className:"w-full max-w-md",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Authentication Required"}),(0,t.jsx)(d.BT,{children:"You need to be logged in to play online."})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(r.$,{className:"w-full",onClick:()=>s.push("/login"),children:"Go to Login"})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[611,644,271,198,7,441,684,358],()=>a(9017)),_N_E=e.O()}]);